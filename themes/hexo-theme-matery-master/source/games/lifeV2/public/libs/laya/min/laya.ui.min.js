!function(t,i){i.un,i.uns;var e=i.static,s=i.class,n=i.getset,h=(i.__newvec,laya.display.Animation),o=laya.utils.Browser,r=laya.utils.ClassUtils,a=laya.filters.ColorFilter,l=laya.utils.Ease,c=laya.events.Event,u=(laya.events.EventDispatcher,laya.display.css.Font),_=laya.display.FrameAnimation,d=laya.display.Graphics,f=laya.utils.Handler,g=laya.net.HttpRequest,p=laya.display.Input,m=laya.net.Loader,y=laya.net.LocalStorage,v=(laya.display.Node,laya.maths.Point),C=laya.maths.Rectangle,b=laya.renders.Render,S=laya.display.Sprite,x=(laya.display.Stage,laya.display.Text),w=laya.resource.Texture,B=laya.utils.TimeLine,I=laya.utils.Tween,k=laya.utils.Utils,L=laya.utils.WeakObject;i.interface("laya.ui.IItem"),i.interface("laya.ui.ISelect"),i.interface("laya.ui.IRender"),i.interface("laya.ui.IComponent"),i.interface("laya.ui.IBox","IComponent");var M=(s(T,"laya.ui.LayoutStyle"),e(T,["EMPTY",function(){return this.EMPTY=new T}]),T);function T(){this.enable=!1,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.centerX=NaN,this.centerY=NaN,this.anchorX=NaN,this.anchorY=NaN}var z=(s(P,"laya.ui.Styles"),P.labelColor="#000000",P.buttonStateNum=3,P.scrollBarMinNum=15,P.scrollBarDelayTime=500,e(P,["defaultSizeGrid",function(){return this.defaultSizeGrid=[4,4,4,4,0]},"labelPadding",function(){return this.labelPadding=[2,2,2,2]},"inputLabelPadding",function(){return this.inputLabelPadding=[1,1,1,3]},"buttonLabelColors",function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"]},"comboBoxItemColors",function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"]}]),P);function P(){}var H=(s(D,"laya.ui.UIUtils"),D.fillArray=function(t,i,e){var s=t.concat();if(i)for(var n=i.split(","),h=0,o=Math.min(s.length,n.length);h<o;h++){var r=n[h];s[h]="true"==r||"false"!=r&&r,null!=e&&(s[h]=e(r))}return s},D.toColor=function(t){return k.toHexColor(t)},D.gray=function(t,i){(i=void 0===i||i)?D.addFilter(t,D.grayFilter):D.clearFilter(t,a)},D.addFilter=function(t,i){var e=t.filters||[];e.push(i),t.filters=e},D.clearFilter=function(t,e){var s=t.filters;if(null!=s&&0<s.length){for(var n=s.length-1;-1<n;n--){var h=s[n];i.__typeof(h,e)&&s.splice(n,1)}t.filters=s}},D._getReplaceStr=function(t){return D.escapeSequence[t]},D.adptString=function(t){return t.replace(/\\(\w)/g,D._getReplaceStr)},D.getBindFun=function(t){var e,s=D._funMap.get(t);return null==s&&(e=(e='"'+t+'"').replace(/^"\${|}"$/g,"").replace(/\${/g,'"+').replace(/}/g,'+"'),s=i._runScript("(function(data){if(data==null)return;with(data){try{\nreturn "+e+"\n}catch(e){}}})"),D._funMap.set(t,s)),s},e(D,["grayFilter",function(){return this.grayFilter=new a([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])},"escapeSequence",function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"}},"_funMap",function(){return this._funMap=new L}]),D);function D(){}var A=(s(O,"UIConfig"),O.touchScrollEnable=!0,O.mouseWheelEnable=!0,O.showButtons=!0,O.popupBgColor="#000000",O.popupBgAlpha=.5,O.closeDialogOnSide=!0,O);function O(){}var N=function(t){function e(){this.autoCacheCmd=!0,this._width=0,this._height=0,this._source=null,this._sizeGrid=null,this._isChanged=!1,this._offset=null,e.__super.call(this)}s(e,"laya.ui.AutoBitmap",t);var h=e.prototype;return h.destroy=function(){t.prototype.destroy.call(this),this._source=null,this._sizeGrid=null,this._offset=null},h._setChanged=function(){this._isChanged||(this._isChanged=!0,i.timer.callLater(this,this.changeSource))},h.changeSource=function(){this._isChanged=!1;var t=this._source;if(t&&t.bitmap){var i=this.width,s=this.height,n=this._sizeGrid,h=t.sourceWidth,o=t.sourceHeight;if(!n||h===i&&o===s)this.clear(),this.drawTexture(t,this._offset?this._offset[0]:0,this._offset?this._offset[1]:0,i,s);else{t.$_GID||(t.$_GID=k.getGID());var r=t.$_GID+"."+i+"."+s+"."+n.join(".");if(k.isOKCmdList(L.I.get(r)))return void(this.cmds=L.I.get(r));this.clear();var a=n[0],l=n[1],c=n[2],u=n[3],_=n[4],d=!1;s==o&&(a=c=0),i<(u=i==h?l=0:u)+l&&(n=i,d=!0,i=u+l,this.save(),this.clipRect(0,0,n,s)),u&&a&&this.drawTexture(e.getTexture(t,0,0,u,a),0,0,u,a),l&&a&&this.drawTexture(e.getTexture(t,h-l,0,l,a),i-l,0,l,a),u&&c&&this.drawTexture(e.getTexture(t,0,o-c,u,c),0,s-c,u,c),l&&c&&this.drawTexture(e.getTexture(t,h-l,o-c,l,c),i-l,s-c,l,c),a&&this.drawBitmap(_,e.getTexture(t,u,0,h-u-l,a),u,0,i-u-l,a),c&&this.drawBitmap(_,e.getTexture(t,u,o-c,h-u-l,c),u,s-c,i-u-l,c),u&&this.drawBitmap(_,e.getTexture(t,0,a,u,o-a-c),0,a,u,s-a-c),l&&this.drawBitmap(_,e.getTexture(t,h-l,a,l,o-a-c),i-l,a,l,s-a-c),this.drawBitmap(_,e.getTexture(t,u,a,h-u-l,o-a-c),u,a,i-u-l,s-a-c),d&&this.restore(),this.autoCacheCmd&&!b.isConchApp&&L.I.set(r,this.cmds)}this._repaint()}},h.drawBitmap=function(t,i,e,s,n,h){void 0===h&&(h=0),(n=void 0===n?0:n)<.1||h<.1||(!t||i.width==n&&i.height==h?this.drawTexture(i,e,s,n,h):this.fillTexture(i,e,s,n,h))},h.clear=function(i){void 0===i&&(i=!0),t.prototype.clear.call(this,!1)},n(0,h,"sizeGrid",(function(){return this._sizeGrid}),(function(t){this._sizeGrid=t,this._setChanged()})),n(0,h,"width",(function(){return this._width||(this._source?this._source.sourceWidth:0)}),(function(t){this._width!=t&&(this._width=t,this._setChanged())})),n(0,h,"height",(function(){return this._height||(this._source?this._source.sourceHeight:0)}),(function(t){this._height!=t&&(this._height=t,this._setChanged())})),n(0,h,"source",(function(){return this._source}),(function(t){t?(this._source=t,this._setChanged()):(this._source=null,this.clear())})),e.getTexture=function(t,i,e,s,n){s<=0&&(s=1),n<=0&&(n=1),t.$_GID||(t.$_GID=k.getGID());var h=t.$_GID+"."+i+"."+e+"."+s+"."+n,o=L.I.get(h);return o&&o.source||(o=w.createFromTexture(t,i,e,s,n),L.I.set(h,o)),o},e}(d);function Y(){Y.__super.call(this)}s(Y,"laya.ui.UIEvent",c),Y.SHOW_TIP="showtip",Y.HIDE_TIP="hidetip";var G,X=function(t){function e(){this._comXml=null,this._dataSource=null,this._toolTip=null,this._tag=null,this._disabled=!1,this._gray=!1,this.layoutEnabled=!0,e.__super.call(this),this._layout=M.EMPTY,this.preinitialize(),this.createChildren(),this.initialize()}s(e,"laya.ui.Component",t);var h=e.prototype;return i.imps(h,{"laya.ui.IComponent":!0}),h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._dataSource=this._layout=null,this._tag=null,this._toolTip=null},h.preinitialize=function(){},h.createChildren=function(){},h.initialize=function(){},h.callLater=function(t,e){i.timer.callLater(this,t,e)},h.runCallLater=function(t){i.timer.runCallLater(this,t)},h.commitMeasure=function(){},h.changeSize=function(){this.event("resize"),this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},h.getLayout=function(){return this._layout===M.EMPTY&&(this._layout=new M),this._layout},h._setLayoutEnabled=function(t){this._layout&&this._layout.enable!=t&&(this._layout.enable=t,this.on("added",this,this.onAdded),this.on("removed",this,this.onRemoved),this.parent&&this.onAdded())},h.onRemoved=function(){this.parent.off("resize",this,this.onCompResize)},h.onAdded=function(){this.parent.on("resize",this,this.onCompResize),this.resetLayoutX(),this.resetLayoutY()},h.onCompResize=function(){this._layout&&this._layout.enable&&(this.resetLayoutX(),this.resetLayoutY())},h.resetLayoutX=function(){var t,i=this._layout;isNaN(i.anchorX)||(this.pivotX=i.anchorX*this.width),!this.layoutEnabled||(t=this.parent)&&(isNaN(i.centerX)?isNaN(i.left)?isNaN(i.right)||(this.x=Math.round(t.width-this.displayWidth-i.right+this.pivotX*this.scaleX)):(this.x=Math.round(i.left+this.pivotX*this.scaleX),isNaN(i.right)||(this.width=(t._width-i.left-i.right)/(this.scaleX||.01))):this.x=Math.round(.5*(t.width-this.displayWidth)+i.centerX+this.pivotX*this.scaleX))},h.resetLayoutY=function(){var t,i=this._layout;isNaN(i.anchorY)||(this.pivotY=i.anchorY*this.height),!this.layoutEnabled||(t=this.parent)&&(isNaN(i.centerY)?isNaN(i.top)?isNaN(i.bottom)||(this.y=Math.round(t.height-this.displayHeight-i.bottom+this.pivotY*this.scaleY)):(this.y=Math.round(i.top+this.pivotY*this.scaleY),isNaN(i.bottom)||(this.height=(t._height-i.top-i.bottom)/(this.scaleY||.01))):this.y=Math.round(.5*(t.height-this.displayHeight)+i.centerY+this.pivotY*this.scaleY))},h.onMouseOver=function(t){i.stage.event("showtip",this._toolTip)},h.onMouseOut=function(t){i.stage.event("hidetip",this._toolTip)},h._childChanged=function(i){this.callLater(this.changeSize),t.prototype._childChanged.call(this,i)},n(0,h,"displayWidth",(function(){return this.width*this.scaleX})),n(0,h,"width",(function(){return this._width||this.measureWidth}),(function(t){this._width!=t&&(this._width=t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerX)&&isNaN(this._layout.right)&&isNaN(this._layout.anchorX)||this.resetLayoutX())})),n(0,h,"measureWidth",(function(){var t=0;this.commitMeasure();for(var i=this.numChildren-1;-1<i;i--){var e=this.getChildAt(i);e.visible&&(t=Math.max(e.x+e.width*e.scaleX,t))}return t})),n(0,h,"displayHeight",(function(){return this.height*this.scaleY})),n(0,h,"height",(function(){return this._height||this.measureHeight}),(function(t){this._height!=t&&(this._height=t,this.conchModel&&this.conchModel.size(this._width,this._height),this.callLater(this.changeSize),!this._layout.enable||isNaN(this._layout.centerY)&&isNaN(this._layout.bottom)&&isNaN(this._layout.anchorY)||this.resetLayoutY())})),n(0,h,"dataSource",(function(){return this._dataSource}),(function(t){for(var i in this._dataSource=t,this._dataSource)this.hasOwnProperty(i)&&"function"!=typeof this[i]&&(this[i]=this._dataSource[i])})),n(0,h,"scaleY",t.prototype._$get_scaleY,(function(t){i.superGet(S,this,"scaleY")!=t&&(i.superSet(S,this,"scaleY",t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutY())})),n(0,h,"measureHeight",(function(){var t=0;this.commitMeasure();for(var i=this.numChildren-1;-1<i;i--){var e=this.getChildAt(i);e.visible&&(t=Math.max(e.y+e.height*e.scaleY,t))}return t})),n(0,h,"scaleX",t.prototype._$get_scaleX,(function(t){i.superGet(S,this,"scaleX")!=t&&(i.superSet(S,this,"scaleX",t),this.callLater(this.changeSize),this._layout.enable&&this.resetLayoutX())})),n(0,h,"top",(function(){return this._layout.top}),(function(t){t!=this._layout.top&&(this.getLayout().top=t,this._setLayoutEnabled(!0)),this.resetLayoutY()})),n(0,h,"bottom",(function(){return this._layout.bottom}),(function(t){t!=this._layout.bottom&&(this.getLayout().bottom=t,this._setLayoutEnabled(!0)),this.resetLayoutY()})),n(0,h,"left",(function(){return this._layout.left}),(function(t){t!=this._layout.left&&(this.getLayout().left=t,this._setLayoutEnabled(!0)),this.resetLayoutX()})),n(0,h,"right",(function(){return this._layout.right}),(function(t){t!=this._layout.right&&(this.getLayout().right=t,this._setLayoutEnabled(!0)),this.resetLayoutX()})),n(0,h,"centerX",(function(){return this._layout.centerX}),(function(t){t!=this._layout.centerX&&(this.getLayout().centerX=t,this._setLayoutEnabled(!0)),this.resetLayoutX()})),n(0,h,"centerY",(function(){return this._layout.centerY}),(function(t){t!=this._layout.centerY&&(this.getLayout().centerY=t,this._setLayoutEnabled(!0)),this.resetLayoutY()})),n(0,h,"anchorX",(function(){return this._layout.anchorX}),(function(t){t!=this._layout.anchorX&&(this.getLayout().anchorX=t,this._setLayoutEnabled(!0)),this.resetLayoutX()})),n(0,h,"anchorY",(function(){return this._layout.anchorY}),(function(t){t!=this._layout.anchorY&&(this.getLayout().anchorY=t,this._setLayoutEnabled(!0)),this.resetLayoutY()})),n(0,h,"tag",(function(){return this._tag}),(function(t){this._tag=t})),n(0,h,"toolTip",(function(){return this._toolTip}),(function(t){this._toolTip!=t&&(null!=(this._toolTip=t)?(this.on("mouseover",this,this.onMouseOver),this.on("mouseout",this,this.onMouseOut)):(this.off("mouseover",this,this.onMouseOver),this.off("mouseout",this,this.onMouseOut)))})),n(0,h,"comXml",(function(){return this._comXml}),(function(t){this._comXml=t})),n(0,h,"gray",(function(){return this._gray}),(function(t){t!==this._gray&&(this._gray=t,H.gray(this,t))})),n(0,h,"disabled",(function(){return this._disabled}),(function(t){t!==this._disabled&&(this.gray=this._disabled=t,this.mouseEnabled=!t)})),e}(S),E=function(){function t(){this.lockLayer=null,this.popupEffect=function(t){t.scale(1,1),I.from(t,{x:i.stage.width/2,y:i.stage.height/2,scaleX:0,scaleY:0},300,l.backOut,f.create(this,this.doOpen,[t]))},this.closeEffect=function(t,e){I.to(t,{x:i.stage.width/2,y:i.stage.height/2,scaleX:0,scaleY:0},300,l.strongOut,f.create(this,this.doClose,[t,e]))},t.__super.call(this),this.maskLayer=new S,this.popupEffectHandler=new f(this,this.popupEffect),this.closeEffectHandler=new f(this,this.closeEffect),this.mouseEnabled=this.maskLayer.mouseEnabled=!0,this.zOrder=1e3,i.stage.addChild(this),i.stage.on("resize",this,this._onResize),A.closeDialogOnSide&&this.maskLayer.on("click",this,this._closeOnSide),this._onResize(null)}s(t,"laya.ui.DialogManager",S);var e=t.prototype;return e._closeOnSide=function(){var t=this.getChildAt(this.numChildren-1);t instanceof laya.ui.Dialog&&t.close("side")},e.setLockView=function(t){this.lockLayer||(this.lockLayer=new V,this.lockLayer.mouseEnabled=!0,this.lockLayer.size(i.stage.width,i.stage.height)),this.lockLayer.removeChildren(),t&&(t.centerX=t.centerY=0,this.lockLayer.addChild(t))},e._onResize=function(t){var e=this.maskLayer.width=i.stage.width,s=this.maskLayer.height=i.stage.height;this.lockLayer&&this.lockLayer.size(e,s),this.maskLayer.graphics.clear(),this.maskLayer.graphics.drawRect(0,0,e,s,A.popupBgColor),this.maskLayer.alpha=A.popupBgAlpha;for(var n=this.numChildren-1;-1<n;n--){var h=this.getChildAt(n);h.popupCenter&&this._centerDialog(h)}},e._centerDialog=function(t){t.x=Math.round((i.stage.width-t.width>>1)+t.pivotX),t.y=Math.round((i.stage.height-t.height>>1)+t.pivotY)},e.open=function(t,i,e){void 0===e&&(e=!1),(i=void 0!==i&&i)&&this._closeAll(),t.popupCenter&&this._centerDialog(t),this.addChild(t),(t.isModal||this._$P.hasZorder)&&this.timer.callLater(this,this._checkMask),e&&null!=t.popupEffect?t.popupEffect.runWith(t):this.doOpen(t),this.event("open")},e.doOpen=function(t){t.onOpened()},e.lock=function(t){this.lockLayer&&(t?this.addChild(this.lockLayer):this.lockLayer.removeSelf())},e.close=function(t,i,e){(e=void 0!==e&&e)&&null!=t.closeEffect?t.closeEffect.runWith([t,i]):this.doClose(t,i),this.event("close")},e.doClose=function(t,i){t.removeSelf(),t.isModal&&this._checkMask(),t.closeHandler&&t.closeHandler.runWith(i),t.onClosed(i)},e.closeAll=function(){this._closeAll(),this.event("close")},e._closeAll=function(){for(var t=this.numChildren-1;-1<t;t--){var i=this.getChildAt(t);i&&null!=i.close&&this.doClose(i)}},e.getDialogsByGroup=function(t){for(var i=[],e=this.numChildren-1;-1<e;e--){var s=this.getChildAt(e);s&&s.group===t&&i.push(s)}return i},e.closeByGroup=function(t){for(var i=[],e=this.numChildren-1;-1<e;e--){var s=this.getChildAt(e);s&&s.group===t&&(s.close(),i.push(s))}return i},e._checkMask=function(){this.maskLayer.removeSelf();for(var t=this.numChildren-1;-1<t;t--){var i=this.getChildAt(t);if(i&&i.isModal)return void this.addChildAt(this.maskLayer,t)}},t}(),R=function(t){function e(t){this._bitmap=null,this._skin=null,this._group=null,e.__super.call(this),this.skin=t}s(e,"laya.ui.Image",t);var h=e.prototype;return h.destroy=function(i){void 0===i&&(i=!0),t.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null},h.dispose=function(){this.destroy(!0),i.loader.clearRes(this._skin)},h.createChildren=function(){this.graphics=this._bitmap=new N,this._bitmap.autoCacheCmd=!1},h.setSource=function(t,i){t===this._skin&&i&&(this.source=i,this.onCompResize())},n(0,h,"source",(function(){return this._bitmap.source}),(function(t){this._bitmap&&(this._bitmap.source=t,this.event("loaded"),this.repaint())})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"string"==typeof(this._dataSource=t)?this.skin=t:i.superSet(X,this,"dataSource",t)})),n(0,h,"measureHeight",(function(){return this._bitmap.height})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&((this._skin=t)?(t=m.getRes(t))?(this.source=t,this.onCompResize()):i.loader.load(this._skin,f.create(this,this.setSource,[this._skin]),null,"image",1,!0,this._group):this.source=null)})),n(0,h,"group",(function(){return this._group}),(function(t){t&&this._skin&&m.setGroup(this._skin,t),this._group=t})),n(0,h,"sizeGrid",(function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null}),(function(t){this._bitmap.sizeGrid=H.fillArray(z.defaultSizeGrid,t,Number)})),n(0,h,"measureWidth",(function(){return this._bitmap.width})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(X,this,"width",t),this._bitmap.width=0==t?1e-7:t})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(X,this,"height",t),this._bitmap.height=0==t?1e-7:t})),e}(X),V=function(t){function e(){e.__super.call(this)}s(e,"laya.ui.Box",t);var h=e.prototype;return i.imps(h,{"laya.ui.IBox":!0}),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){for(var i in this._dataSource=t){var e=this.getChildByName(i);e?e.dataSource=t[i]:this.hasOwnProperty(i)&&"function"!=typeof this[i]&&(this[i]=t[i])}})),e}(X),W=function(t){function h(t,i){this.toggle=!1,this._bitmap=null,this._text=null,this._strokeColors=null,this._state=0,this._selected=!1,this._skin=null,this._autoSize=!0,this._sources=null,this._clickHandler=null,this._stateChanged=!1,h.__super.call(this),this._labelColors=z.buttonLabelColors,this._stateNum=z.buttonStateNum,void 0===i&&(i=""),this.skin=t,this.label=i}s(h,"laya.ui.Button",t);var o=h.prototype;return i.imps(o,{"laya.ui.ISelect":!0}),o.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._bitmap&&this._bitmap.destroy(),this._text&&this._text.destroy(i),this._bitmap=null,this._text=null,this._clickHandler=null,this._labelColors=this._sources=this._strokeColors=null},o.createChildren=function(){this.graphics=this._bitmap=new N},o.createText=function(){this._text||(this._text=new x,this._text.overflow=x.HIDDEN,this._text.align="center",this._text.valign="middle",this._text.width=this._width,this._text.height=this._height)},o.initialize=function(){1!==this._mouseEnableState&&(this.mouseEnabled=!0,this._setBit(2,!0)),this._createListener("mouseover",this,this.onMouse,null,!1,!1),this._createListener("mouseout",this,this.onMouse,null,!1,!1),this._createListener("mousedown",this,this.onMouse,null,!1,!1),this._createListener("mouseup",this,this.onMouse,null,!1,!1),this._createListener("click",this,this.onMouse,null,!1,!1)},o.onMouse=function(t){if(!1!==this.toggle||!this._selected)return"click"===t.type?(this.toggle&&(this.selected=!this._selected),void(this._clickHandler&&this._clickHandler.run())):void(this._selected||(this.state=h.stateMap[t.type]))},o.changeClips=function(){var t=m.getRes(this._skin);if(t){var i=t.sourceWidth,e=t.sourceHeight/this._stateNum;t.$_GID||(t.$_GID=k.getGID());var s=t.$_GID+"-"+this._stateNum,n=L.I.get(s);if(n=k.isOkTextureList(n)?n:null)this._sources=n;else{if(this._sources=[],1===this._stateNum)this._sources.push(t);else for(var h=0;h<this._stateNum;h++)this._sources.push(w.createFromTexture(t,0,e*h,i,e));L.I.set(s,this._sources)}this._autoSize?(this._bitmap.width=this._width||i,this._bitmap.height=this._height||e,this._text&&(this._text.width=this._bitmap.width,this._text.height=this._bitmap.height)):this._text&&(this._text.x=i)}else console.log("lose skin",this._skin)},o.changeState=function(){this._stateChanged=!1,this.runCallLater(this.changeClips);var t=this._state<this._stateNum?this._state:this._stateNum-1;this._sources&&(this._bitmap.source=this._sources[t]),this.label&&(this._text.color=this._labelColors[t],this._strokeColors&&(this._text.strokeColor=this._strokeColors[t]))},o._setStateChanged=function(){this._stateChanged||(this._stateChanged=!0,this.callLater(this.changeState))},n(0,o,"labelStrokeColor",(function(){return this.createText(),this._text.strokeColor}),(function(t){this.createText(),this._text.strokeColor=t})),n(0,o,"measureHeight",(function(){return this.runCallLater(this.changeClips),this._text?Math.max(this._bitmap.height,this._text.height):this._bitmap.height})),n(0,o,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this.callLater(this.changeClips),this._setStateChanged())})),n(0,o,"state",(function(){return this._state}),(function(t){this._state!=t&&(this._state=t,this._setStateChanged())})),n(0,o,"text",(function(){return this.createText(),this._text})),n(0,o,"stateNum",(function(){return this._stateNum}),(function(t){"string"==typeof t&&(t=parseInt(t)),this._stateNum!=t&&(this._stateNum=t<1?1:3<t?3:t,this.callLater(this.changeClips))})),n(0,o,"strokeColors",(function(){return this._strokeColors?this._strokeColors.join(","):""}),(function(t){this._strokeColors=H.fillArray(z.buttonLabelColors,t,String),this._setStateChanged()})),n(0,o,"labelColors",(function(){return this._labelColors.join(",")}),(function(t){this._labelColors=H.fillArray(z.buttonLabelColors,t,String),this._setStateChanged()})),n(0,o,"measureWidth",(function(){return this.runCallLater(this.changeClips),this._autoSize?this._bitmap.width:(this.runCallLater(this.changeState),this._bitmap.width+(this._text?this._text.width:0))})),n(0,o,"label",(function(){return this._text?this._text.text:null}),(function(t){(this._text||t)&&(this.createText(),this._text.text!=t&&(t&&!this._text.parent&&this.addChild(this._text),this._text.text=(t+"").replace(/\\n/g,"\n"),this._setStateChanged()))})),n(0,o,"selected",(function(){return this._selected}),(function(t){this._selected!=t&&(this._selected=t,this.state=this._selected?2:0,this.event("change"))})),n(0,o,"labelPadding",(function(){return this.createText(),this._text.padding.join(",")}),(function(t){this.createText(),this._text.padding=H.fillArray(z.labelPadding,t,Number)})),n(0,o,"labelSize",(function(){return this.createText(),this._text.fontSize}),(function(t){this.createText(),this._text.fontSize=t})),n(0,o,"labelStroke",(function(){return this.createText(),this._text.stroke}),(function(t){this.createText(),this._text.stroke=t})),n(0,o,"labelBold",(function(){return this.createText(),this._text.bold}),(function(t){this.createText(),this._text.bold=t})),n(0,o,"labelFont",(function(){return this.createText(),this._text.font}),(function(t){this.createText(),this._text.font=t})),n(0,o,"labelAlign",(function(){return this.createText(),this._text.align}),(function(t){this.createText(),this._text.align=t})),n(0,o,"clickHandler",(function(){return this._clickHandler}),(function(t){this._clickHandler=t})),n(0,o,"sizeGrid",(function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null}),(function(t){this._bitmap.sizeGrid=H.fillArray(z.defaultSizeGrid,t,Number)})),n(0,o,"width",t.prototype._$get_width,(function(t){i.superSet(X,this,"width",t),this._autoSize&&(this._bitmap.width=t,this._text&&(this._text.width=t))})),n(0,o,"height",t.prototype._$get_height,(function(t){i.superSet(X,this,"height",t),this._autoSize&&(this._bitmap.height=t,this._text&&(this._text.height=t))})),n(0,o,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)||"string"==typeof t?this.label=t+"":i.superSet(X,this,"dataSource",t)})),n(0,o,"iconOffset",(function(){return this._bitmap._offset?this._bitmap._offset.join(","):null}),(function(t){this._bitmap._offset=t?H.fillArray([1,1],t,Number):[]})),e(h,["stateMap",function(){return this.stateMap={mouseup:0,mouseover:1,mousedown:2,mouseout:0}}]),h}(X),$=function(t){function e(t,i,s){this._sources=null,this._bitmap=null,this._skin=null,this._clipX=1,this._clipY=1,this._clipWidth=0,this._clipHeight=0,this._autoPlay=!1,this._interval=50,this._complete=null,this._isPlaying=!1,this._index=0,this._clipChanged=!1,this._group=null,this._toIndex=-1,e.__super.call(this),void 0===s&&(s=1),this._clipX=i=void 0===i?1:i,this._clipY=s,this.skin=t}s(e,"laya.ui.Clip",t);var h=e.prototype;return h.destroy=function(i){void 0===i&&(i=!0),t.prototype.destroy.call(this,!0),this._bitmap&&this._bitmap.destroy(),this._bitmap=null,this._sources=null},h.dispose=function(){this.destroy(!0),i.loader.clearRes(this._skin)},h.createChildren=function(){this.graphics=this._bitmap=new N},h._onDisplay=function(t){this._isPlaying?this._displayedInStage?this.play():this.stop():this._autoPlay&&this.play()},h.changeClip=function(){var t;this._clipChanged=!1,this._skin&&((t=m.getRes(this._skin))?this.loadComplete(this._skin,t):i.loader.load(this._skin,f.create(this,this.loadComplete,[this._skin])))},h.loadComplete=function(t,i){if(t===this._skin&&i){var e=this._clipWidth||Math.ceil(i.sourceWidth/this._clipX),s=this._clipHeight||Math.ceil(i.sourceHeight/this._clipY),n=this._skin+e+s;if(t=L.I.get(n),t=k.isOkTextureList(t)?t:null)this._sources=t;else{this._sources=[];for(var h=0;h<this._clipY;h++)for(var o=0;o<this._clipX;o++)this._sources.push(w.createFromTexture(i,e*o,s*h,e,s));L.I.set(n,this._sources)}this.index=this._index,this.event("loaded"),this.onCompResize()}},h.play=function(t,e){void 0===t&&(t=0),void 0===e&&(e=-1),this._isPlaying=!0,this.index=t,this._toIndex=e,this._index++,i.timer.loop(this.interval,this,this._loop),this.on("display",this,this._onDisplay),this.on("undisplay",this,this._onDisplay)},h._loop=function(){this._style.visible&&this._sources&&(this._index++,-1<this._toIndex&&this._index>=this._toIndex?this.stop():this._index>=this._sources.length&&(this._index=0),this.index=this._index)},h.stop=function(){this._isPlaying=!1,i.timer.clear(this,this._loop),this.event("complete")},h._setClipChanged=function(){this._clipChanged||(this._clipChanged=!0,this.callLater(this.changeClip))},n(0,h,"interval",(function(){return this._interval}),(function(t){this._interval!=t&&(this._interval=t,this._isPlaying&&this.play())})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&((this._skin=t)?this._setClipChanged():this._bitmap.source=null)})),n(0,h,"sources",(function(){return this._sources}),(function(t){this._sources=t,this.index=this._index,this.event("loaded")})),n(0,h,"clipX",(function(){return this._clipX}),(function(t){this._clipX=t||1,this._setClipChanged()})),n(0,h,"clipY",(function(){return this._clipY}),(function(t){this._clipY=t||1,this._setClipChanged()})),n(0,h,"total",(function(){return this.runCallLater(this.changeClip),this._sources?this._sources.length:0})),n(0,h,"clipWidth",(function(){return this._clipWidth}),(function(t){this._clipWidth=t,this._setClipChanged()})),n(0,h,"sizeGrid",(function(){return this._bitmap.sizeGrid?this._bitmap.sizeGrid.join(","):null}),(function(t){this._bitmap.sizeGrid=H.fillArray(z.defaultSizeGrid,t,Number)})),n(0,h,"group",(function(){return this._group}),(function(t){t&&this._skin&&m.setGroup(this._skin,t),this._group=t})),n(0,h,"clipHeight",(function(){return this._clipHeight}),(function(t){this._clipHeight=t,this._setClipChanged()})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(X,this,"width",t),this._bitmap.width=t})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(X,this,"height",t),this._bitmap.height=t})),n(0,h,"measureWidth",(function(){return this.runCallLater(this.changeClip),this._bitmap.width})),n(0,h,"measureHeight",(function(){return this.runCallLater(this.changeClip),this._bitmap.height})),n(0,h,"index",(function(){return this._index}),(function(t){this._index=t,this._bitmap&&this._sources&&(this._bitmap.source=this._sources[t]),this.event("change")})),n(0,h,"autoPlay",(function(){return this._autoPlay}),(function(t){this._autoPlay!=t&&((this._autoPlay=t)?this.play():this.stop())})),n(0,h,"isPlaying",(function(){return this._isPlaying}),(function(t){this._isPlaying=t})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)&&Math.floor(t)==t||"string"==typeof t?this.index=parseInt(t):i.superSet(X,this,"dataSource",t)})),n(0,h,"bitmap",(function(){return this._bitmap})),e}(X),U=function(t){function e(){this.changeHandler=null,this._gridSize=11,this._bgColor="#ffffff",this._borderColor="#000000",this._inputColor="#000000",this._inputBgColor="#efefef",this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=[],this._selectedColor="#000000",this._panelChanged=!1,e.__super.call(this)}s(e,"laya.ui.ColorPicker",t);var h=e.prototype;return h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._colorPanel&&this._colorPanel.destroy(i),this._colorButton&&this._colorButton.destroy(i),this._colorPanel=null,this._colorTiles=null,this._colorBlock=null,this._colorInput=null,this._colorButton=null,this._colors=null,this.changeHandler=null},h.createChildren=function(){this.addChild(this._colorButton=new W),this._colorPanel=new V,this._colorPanel.size(230,166),this._colorPanel.addChild(this._colorTiles=new S),this._colorPanel.addChild(this._colorBlock=new S),this._colorPanel.addChild(this._colorInput=new p)},h.initialize=function(){this._colorButton.on("click",this,this.onColorButtonClick),this._colorBlock.pos(5,5),this._colorInput.pos(60,5),this._colorInput.size(60,20),this._colorInput.on("change",this,this.onColorInputChange),this._colorInput.on("keydown",this,this.onColorFieldKeyDown),this._colorTiles.pos(5,30),this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove),this._colorTiles.on("click",this,this.onColorTilesClick),this._colorTiles.size(20*this._gridSize,12*this._gridSize),this._colorPanel.on("mousedown",this,this.onPanelMouseDown),this.bgColor=this._bgColor},h.onPanelMouseDown=function(t){t.stopPropagation()},h.changePanel=function(){this._panelChanged=!1;var t=this._colorPanel.graphics;t.clear(),t.drawRect(0,0,230,166,this._bgColor,this._borderColor),this.drawBlock(this._selectedColor),this._colorInput.borderColor=this._borderColor,this._colorInput.bgColor=this._inputBgColor,this._colorInput.color=this._inputColor,(t=this._colorTiles.graphics).clear();for(var i=[0,3355443,6710886,10066329,13421772,16777215,16711680,65280,255,16776960,65535,16711935],e=0;e<12;e++)for(var s=0;s<20;s++){var n=H.toColor(0===s?i[e]:1===s?0:51*(((3*e+s/6)%3<<0)+3*(e/6<<0))<<16|s%6*51<<8|(e<<0)%6*51);this._colors.push(n);var h=s*this._gridSize,o=e*this._gridSize;t.drawRect(h,o,this._gridSize,this._gridSize,n,"#000000")}},h.onColorButtonClick=function(t){this._colorPanel.parent?this.close():this.open()},h.open=function(){var t=this.localToGlobal(new v),e=t.x+this._colorPanel.width<=i.stage.width?t.x:i.stage.width-this._colorPanel.width,s=(s=t.y+this._colorButton.height)+this._colorPanel.height<=i.stage.height?s:t.y-this._colorPanel.height;this._colorPanel.pos(e,s),this._colorPanel.zOrder=1001,i._currentStage.addChild(this._colorPanel),i.stage.on("mousedown",this,this.removeColorBox)},h.close=function(){i.stage.off("mousedown",this,this.removeColorBox),this._colorPanel.removeSelf()},h.removeColorBox=function(t){this.close()},h.onColorFieldKeyDown=function(t){13==t.keyCode&&(this._colorInput.text?this.selectedColor=this._colorInput.text:this.selectedColor=null,this.close(),t.stopPropagation())},h.onColorInputChange=function(t){this._colorInput.text?this.drawBlock(this._colorInput.text):this.drawBlock("#FFFFFF")},h.onColorTilesClick=function(t){this.selectedColor=this.getColorByMouse(),this.close()},h.onColorTilesMouseMove=function(t){this._colorInput.focus=!1;var i=this.getColorByMouse();this._colorInput.text=i,this.drawBlock(i)},h.getColorByMouse=function(){var t=this._colorTiles.getMousePoint(),i=Math.floor(t.x/this._gridSize);return t=Math.floor(t.y/this._gridSize),this._colors[20*t+i]},h.drawBlock=function(t){var i=this._colorBlock.graphics;i.clear(),i.drawRect(0,0,50,20,t||"#ffffff",this._borderColor),t||i.drawLine(0,0,50,20,"#ff0000")},h.changeColor=function(){var t=this.graphics;t.clear();var i=this._selectedColor||"#000000";t.drawRect(0,0,this._colorButton.width,this._colorButton.height,i)},h._setPanelChanged=function(){this._panelChanged||(this._panelChanged=!0,this.callLater(this.changePanel))},n(0,h,"inputBgColor",(function(){return this._inputBgColor}),(function(t){this._inputBgColor=t,this._setPanelChanged()})),n(0,h,"selectedColor",(function(){return this._selectedColor}),(function(t){this._selectedColor!=t&&(this._selectedColor=this._colorInput.text=t,this.drawBlock(t),this.changeColor(),this.changeHandler&&this.changeHandler.runWith(this._selectedColor),this.event("change",c.EMPTY.setTo("change",this,this)))})),n(0,h,"skin",(function(){return this._colorButton.skin}),(function(t){this._colorButton.skin=t,this.changeColor()})),n(0,h,"bgColor",(function(){return this._bgColor}),(function(t){this._bgColor=t,this._setPanelChanged()})),n(0,h,"borderColor",(function(){return this._borderColor}),(function(t){this._borderColor=t,this._setPanelChanged()})),n(0,h,"inputColor",(function(){return this._inputColor}),(function(t){this._inputColor=t,this._setPanelChanged()})),e}(X),F=function(t){function e(t,i){this._visibleNum=6,this._button=null,this._list=null,this._isOpen=!1,this._itemSize=12,this._labels=[],this._selectedIndex=-1,this._selectHandler=null,this._itemHeight=NaN,this._listHeight=NaN,this._listChanged=!1,this._itemChanged=!1,this._scrollBarSkin=null,this._isCustomList=!1,this.itemRender=null,e.__super.call(this),this._itemColors=z.comboBoxItemColors,this.skin=t,this.labels=i}s(e,"laya.ui.ComboBox",t);var h=e.prototype;return h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._button&&this._button.destroy(i),this._list&&this._list.destroy(i),this._button=null,this._list=null,this._itemColors=null,this._labels=null,this._selectHandler=null},h.createChildren=function(){this.addChild(this._button=new W),this._button.text.align="left",this._button.labelPadding="0,0,0,5",this._button.on("mousedown",this,this.onButtonMouseDown)},h._createList=function(){this._list=new et,this._scrollBarSkin&&(this._list.vScrollBarSkin=this._scrollBarSkin),this._setListEvent(this._list)},h._setListEvent=function(t){this._list.selectEnable=!0,this._list.on("mousedown",this,this.onListDown),this._list.mouseHandler=f.create(this,this.onlistItemMouse,null,!1),this._list.scrollBar&&this._list.scrollBar.on("mousedown",this,this.onScrollBarDown)},h.onListDown=function(t){t.stopPropagation()},h.onScrollBarDown=function(t){t.stopPropagation()},h.onButtonMouseDown=function(t){this.callLater(this.switchTo,[!this._isOpen])},h.changeList=function(){this._listChanged=!1;var t=this.width-2,i=this._itemColors[2];this._itemHeight=this._itemSize+6,this._list.itemRender=this.itemRender||{type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:t,height:this._itemHeight,fontSize:this._itemSize,color:i}}]},this._list.repeatY=this._visibleNum,this._list.refresh()},h.onlistItemMouse=function(t,i){var e=t.type;"mouseover"===e||"mouseout"===e?this._isCustomList||!(t=this._list.getCell(i))||(t=t.getChildByName("label"))&&("mouseover"===e?(t.bgColor=this._itemColors[0],t.color=this._itemColors[1]):(t.bgColor=null,t.color=this._itemColors[2])):"click"===e&&(this.selectedIndex=i,this.isOpen=!1)},h.switchTo=function(t){this.isOpen=t},h.changeOpen=function(){this.isOpen=!this._isOpen},h.changeItem=function(){var t;this._itemChanged=!1,this._listHeight=0<this._labels.length?Math.min(this._visibleNum,this._labels.length)*this._itemHeight:this._itemHeight,this._isCustomList||((t=this._list.graphics).clear(),t.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]));for(var i=this._list.array||[],e=i.length=0,s=this._labels.length;e<s;e++)i.push({label:this._labels[e]});this._list.height=this._listHeight,this._list.array=i},h.changeSelected=function(){this._button.label=this.selectedLabel},h._onStageMouseWheel=function(t){this._list&&!this._list.contains(t.target)&&this.removeList(null)},h.removeList=function(t){i.stage.off("mousedown",this,this.removeList),i.stage.off("mousewheel",this,this._onStageMouseWheel),this.isOpen=!1},n(0,h,"selectedIndex",(function(){return this._selectedIndex}),(function(t){this._selectedIndex!=t&&(this._selectedIndex=t,0<this._labels.length?this.changeSelected():this.callLater(this.changeSelected),this.event("change",[c.EMPTY.setTo("change",this,this)]),this._selectHandler&&this._selectHandler.runWith(this._selectedIndex))})),n(0,h,"measureHeight",(function(){return this._button.height})),n(0,h,"skin",(function(){return this._button.skin}),(function(t){this._button.skin!=t&&(this._button.skin=t,this._listChanged=!0)})),n(0,h,"measureWidth",(function(){return this._button.width})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(X,this,"width",t),this._button.width=this._width,this._itemChanged=!0,this._listChanged=!0})),n(0,h,"selectedLabel",(function(){return-1<this._selectedIndex&&this._selectedIndex<this._labels.length?this._labels[this._selectedIndex]:null}),(function(t){this.selectedIndex=this._labels.indexOf(t)})),n(0,h,"labels",(function(){return this._labels.join(",")}),(function(t){0<this._labels.length&&(this.selectedIndex=-1),t?this._labels=t.split(","):this._labels.length=0,this._itemChanged=!0})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(X,this,"height",t),this._button.height=this._height})),n(0,h,"selectHandler",(function(){return this._selectHandler}),(function(t){this._selectHandler=t})),n(0,h,"visibleNum",(function(){return this._visibleNum}),(function(t){this._visibleNum=t,this._listChanged=!0})),n(0,h,"labelBold",(function(){return this._button.text.bold}),(function(t){this._button.text.bold=t})),n(0,h,"itemColors",(function(){return String(this._itemColors)}),(function(t){this._itemColors=H.fillArray(this._itemColors,t,String),this._listChanged=!0})),n(0,h,"itemSize",(function(){return this._itemSize}),(function(t){this._itemSize=t,this._listChanged=!0})),n(0,h,"scrollBar",(function(){return this.list.scrollBar})),n(0,h,"isOpen",(function(){return this._isOpen}),(function(t){var e;this._isOpen!=t&&(this._isOpen=t,this._button.selected=this._isOpen,this._isOpen?(this._list||this._createList(),this._listChanged&&!this._isCustomList&&this.changeList(),this._itemChanged&&this.changeItem(),t=(t=(e=this.localToGlobal(v.TEMP.setTo(0,0))).y+this._button.height)+this._listHeight<=i.stage.height?t:e.y-this._listHeight,this._list.pos(e.x,t),this._list.zOrder=1001,i._currentStage.addChild(this._list),i.stage.once("mousedown",this,this.removeList),i.stage.on("mousewheel",this,this._onStageMouseWheel),this._list.selectedIndex=this._selectedIndex):this._list&&this._list.removeSelf())})),n(0,h,"scrollBarSkin",(function(){return this._scrollBarSkin}),(function(t){this._scrollBarSkin=t})),n(0,h,"sizeGrid",(function(){return this._button.sizeGrid}),(function(t){this._button.sizeGrid=t})),n(0,h,"button",(function(){return this._button})),n(0,h,"list",(function(){return this._list||this._createList(),this._list}),(function(t){t&&(t.removeSelf(),this._isCustomList=!0,this._list=t,this._setListEvent(t),this._itemHeight=t.getCell(0).height+t.spaceY)})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)&&Math.floor(t)==t||"string"==typeof t?this.selectedIndex=parseInt(t):t instanceof Array?this.labels=t.join(","):i.superSet(X,this,"dataSource",t)})),n(0,h,"labelColors",(function(){return this._button.labelColors}),(function(t){this._button.labelColors!=t&&(this._button.labelColors=t)})),n(0,h,"labelPadding",(function(){return this._button.text.padding.join(",")}),(function(t){this._button.text.padding=H.fillArray(z.labelPadding,t,Number)})),n(0,h,"labelSize",(function(){return this._button.text.fontSize}),(function(t){this._button.text.fontSize=t})),n(0,h,"labelFont",(function(){return this._button.text.font}),(function(t){this._button.text.font=t})),n(0,h,"stateNum",(function(){return this._button.stateNum}),(function(t){this._button.stateNum=t})),e}(X),j=function(t){function e(t){this.rollRatio=.95,this.changeHandler=null,this.scaleBar=!0,this.autoHide=!1,this.elasticDistance=0,this.elasticBackTime=500,this.upButton=null,this.downButton=null,this.slider=null,this._scrollSize=1,this._skin=null,this._thumbPercent=1,this._target=null,this._lastPoint=null,this._lastOffset=0,this._checkElastic=!1,this._isElastic=!1,this._value=NaN,this._hide=!1,this._clickOnly=!0,this._offsets=null,e.__super.call(this),this._showButtons=A.showButtons,this._touchScrollEnable=A.touchScrollEnable,this._mouseWheelEnable=A.mouseWheelEnable,this.skin=t,this.max=1}s(e,"laya.ui.ScrollBar",t);var h=e.prototype;return h.destroy=function(i){void 0===i&&(i=!0),this.stopScroll(),this.target=null,t.prototype.destroy.call(this,i),this.upButton&&this.upButton.destroy(i),this.downButton&&this.downButton.destroy(i),this.slider&&this.slider.destroy(i),this.upButton=this.downButton=null,this.slider=null,this.changeHandler=null,this._offsets=null},h.createChildren=function(){this.addChild(this.slider=new q),this.addChild(this.upButton=new W),this.addChild(this.downButton=new W)},h.initialize=function(){this.slider.showLabel=!1,this.slider.on("change",this,this.onSliderChange),this.slider.setSlider(0,0,0),this.upButton.on("mousedown",this,this.onButtonMouseDown),this.downButton.on("mousedown",this,this.onButtonMouseDown)},h.onSliderChange=function(){this._value!=this.slider.value&&(this.value=this.slider.value)},h.onButtonMouseDown=function(t){t=t.currentTarget===this.upButton,this.slide(t),i.timer.once(z.scrollBarDelayTime,this,this.startLoop,[t]),i.stage.once("mouseup",this,this.onStageMouseUp)},h.startLoop=function(t){i.timer.frameLoop(1,this,this.slide,[t])},h.slide=function(t){t?this.value-=this._scrollSize:this.value+=this._scrollSize},h.onStageMouseUp=function(t){i.timer.clear(this,this.startLoop),i.timer.clear(this,this.slide)},h.changeScrollBar=function(){this.upButton.visible=this._showButtons,this.downButton.visible=this._showButtons,this._showButtons&&(this.upButton.skin=this._skin.replace(".png","$up.png"),this.downButton.skin=this._skin.replace(".png","$down.png")),this.slider.isVertical?this.slider.y=this._showButtons?this.upButton.height:0:this.slider.x=this._showButtons?this.upButton.width:0,this.resetPositions(),this.repaint()},h.changeSize=function(){t.prototype.changeSize.call(this),this.repaint(),this.resetPositions(),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this.value)},h.resetPositions=function(){this.slider.isVertical?this.slider.height=this.height-(this._showButtons?this.upButton.height+this.downButton.height:0):this.slider.width=this.width-(this._showButtons?this.upButton.width+this.downButton.width:0),this.resetButtonPosition()},h.resetButtonPosition=function(){this.slider.isVertical?this.downButton.y=this.slider.y+this.slider.height:this.downButton.x=this.slider.x+this.slider.width},h.setScroll=function(t,i,e){this.runCallLater(this.changeSize),this.slider.setSlider(t,i,e),this.slider.bar.visible=0<i,!this._hide&&this.autoHide&&(this.visible=!1)},h.onTargetMouseWheel=function(t){this.value-=t.delta*this._scrollSize,this.target=this._target},h.onTargetMouseDown=function(t){this._clickOnly=!0,this._lastOffset=0,this._checkElastic=!1,this._lastPoint||(this._lastPoint=new v),this._lastPoint.setTo(i.stage.mouseX,i.stage.mouseY),i.timer.clear(this,this.tweenMove),I.clearTween(this),i.stage.once("mouseup",this,this.onStageMouseUp2),i.stage.once("mouseout",this,this.onStageMouseUp2),i.timer.frameLoop(1,this,this.loop)},h.loop=function(){var t=i.stage.mouseY,e=i.stage.mouseX;if(this._lastOffset=this.isVertical?t-this._lastPoint.y:e-this._lastPoint.x,this._clickOnly){if(!(1<Math.abs(this._lastOffset*(this.isVertical?i.stage._canvasTransform.getScaleY():i.stage._canvasTransform.getScaleX()))))return;this._clickOnly=!1,this._offsets||(this._offsets=[]),this._offsets.length=0,this._target.mouseEnabled=!1,!this.hide&&this.autoHide&&(this.alpha=1,this.visible=!0),this.event("start")}this._offsets.push(this._lastOffset),this._lastPoint.x=e,this._lastPoint.y=t,0!==this._lastOffset&&(this._checkElastic||(0<this.elasticDistance?this._checkElastic||0==this._lastOffset||(0<this._lastOffset&&this._value<=this.min||this._lastOffset<0&&this._value>=this.max?(this._isElastic=!0,this._checkElastic=!0):this._isElastic=!1):this._checkElastic=!0),this._isElastic?this._value<=this.min?this.value-=this._lastOffset*Math.max(0,1-(this.min-this._value)/this.elasticDistance):this._value>=this.max&&(this.value-=this._lastOffset*Math.max(0,1-(this._value-this.max)/this.elasticDistance)):this.value-=this._lastOffset)},h.onStageMouseUp2=function(t){if(i.stage.off("mouseup",this,this.onStageMouseUp2),i.stage.off("mouseout",this,this.onStageMouseUp2),i.timer.clear(this,this.loop),!(this._clickOnly&&this._value>=this.min&&this._value<=this.max))if(this._target.mouseEnabled=!0,this._isElastic)this._value<this.min?I.to(this,{value:this.min},this.elasticBackTime,l.sineOut,f.create(this,this.elasticOver)):this._value>this.max&&I.to(this,{value:this.max},this.elasticBackTime,l.sineOut,f.create(this,this.elasticOver));else if(this._offsets){this._offsets.length<1&&(this._offsets[0]=this.isVertical?i.stage.mouseY-this._lastPoint.y:i.stage.mouseX-this._lastPoint.x);for(var e,s=0,n=Math.min(this._offsets.length,3),h=0;h<n;h++)s+=this._offsets[this._offsets.length-1-h];this._lastOffset=s/n,(s=Math.abs(this._lastOffset))<2?this.event("end"):(60<s&&(this._lastOffset=0<this._lastOffset?60:-60),e=Math.round(Math.abs(this.elasticDistance*(this._lastOffset/240))),i.timer.frameLoop(1,this,this.tweenMove,[e]))}},h.elasticOver=function(){this._isElastic=!1,!this.hide&&this.autoHide&&I.to(this,{alpha:0},500),this.event("end")},h.tweenMove=function(t){this._lastOffset*=this.rollRatio;var e=NaN;0<t&&(0<this._lastOffset&&this.value<=this.min?(this._isElastic=!0,e=.5*-(this.min-t-this.value),this._lastOffset>e&&(this._lastOffset=e)):this._lastOffset<0&&this.value>=this.max&&(this._isElastic=!0,e=.5*-(this.max+t-this.value),this._lastOffset<e&&(this._lastOffset=e))),this.value-=this._lastOffset,Math.abs(this._lastOffset)<1&&(i.timer.clear(this,this.tweenMove),this._isElastic?this._value<this.min?I.to(this,{value:this.min},this.elasticBackTime,l.sineOut,f.create(this,this.elasticOver)):this._value>this.max?I.to(this,{value:this.max},this.elasticBackTime,l.sineOut,f.create(this,this.elasticOver)):this.elasticOver():(this.event("end"),!this.hide&&this.autoHide&&I.to(this,{alpha:0},500)))},h.stopScroll=function(){this.onStageMouseUp2(null),i.timer.clear(this,this.tweenMove),I.clearTween(this)},n(0,h,"measureHeight",(function(){return this.slider.isVertical?100:this.slider.height})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this.slider.skin=this._skin,this.callLater(this.changeScrollBar))})),n(0,h,"max",(function(){return this.slider.max}),(function(t){this.slider.max=t})),n(0,h,"showButtons",(function(){return this._showButtons}),(function(t){this._showButtons=t,this.callLater(this.changeScrollBar)})),n(0,h,"measureWidth",(function(){return this.slider.isVertical?this.slider.width:100})),n(0,h,"min",(function(){return this.slider.min}),(function(t){this.slider.min=t})),n(0,h,"value",(function(){return this._value}),(function(t){t!==this._value&&(this._value=t,this._isElastic||(this.slider._value!=t&&(this.slider._value=t,this.slider.changeValue()),this._value=this.slider._value),this.event("change"),this.changeHandler&&this.changeHandler.runWith(this._value))})),n(0,h,"isVertical",(function(){return this.slider.isVertical}),(function(t){this.slider.isVertical=t})),n(0,h,"sizeGrid",(function(){return this.slider.sizeGrid}),(function(t){this.slider.sizeGrid=t})),n(0,h,"scrollSize",(function(){return this._scrollSize}),(function(t){this._scrollSize=t})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)||"string"==typeof t?this.value=Number(t):i.superSet(X,this,"dataSource",t)})),n(0,h,"thumbPercent",(function(){return this._thumbPercent}),(function(t){this.runCallLater(this.changeScrollBar),this.runCallLater(this.changeSize),this._thumbPercent=t=1<=t?.99:t,this.scaleBar&&(this.slider.isVertical?this.slider.bar.height=Math.max(this.slider.height*t,z.scrollBarMinNum):this.slider.bar.width=Math.max(this.slider.width*t,z.scrollBarMinNum))})),n(0,h,"target",(function(){return this._target}),(function(t){this._target&&(this._target.off("mousewheel",this,this.onTargetMouseWheel),this._target.off("mousedown",this,this.onTargetMouseDown)),(this._target=t)&&(this._mouseWheelEnable&&this._target.on("mousewheel",this,this.onTargetMouseWheel),this._touchScrollEnable&&this._target.on("mousedown",this,this.onTargetMouseDown))})),n(0,h,"hide",(function(){return this._hide}),(function(t){this._hide=t,this.visible=!t})),n(0,h,"touchScrollEnable",(function(){return this._touchScrollEnable}),(function(t){this._touchScrollEnable=t,this.target=this._target})),n(0,h,"mouseWheelEnable",(function(){return this._mouseWheelEnable}),(function(t){this._mouseWheelEnable=t,this.target=this._target})),n(0,h,"tick",(function(){return this.slider.tick}),(function(t){this.slider.tick=t})),e}(X),q=function(t){function h(t){this.changeHandler=null,this.isVertical=!0,this.showLabel=!0,this._allowClickBack=!1,this._max=100,this._min=0,this._tick=1,this._value=0,this._skin=null,this._bg=null,this._progress=null,this._bar=null,this._tx=NaN,this._ty=NaN,this._maxMove=NaN,this._globalSacle=null,h.__super.call(this),this.skin=t}s(h,"laya.ui.Slider",t);var o=h.prototype;return o.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._bg&&this._bg.destroy(i),this._bar&&this._bar.destroy(i),this._progress&&this._progress.destroy(i),this._bg=null,this._bar=null,this._progress=null,this.changeHandler=null},o.createChildren=function(){this.addChild(this._bg=new R),this.addChild(this._bar=new W)},o.initialize=function(){this._bar.on("mousedown",this,this.onBarMouseDown),this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0",this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid),this.allowClickBack=!0},o.onBarMouseDown=function(t){this._globalSacle||(this._globalSacle=new v),this._globalSacle.setTo(this.globalScaleX||.01,this.globalScaleY||.01),this._maxMove=this.isVertical?this.height-this._bar.height:this.width-this._bar.width,this._tx=i.stage.mouseX,this._ty=i.stage.mouseY,i.stage.on("mousemove",this,this.mouseMove),i.stage.once("mouseup",this,this.mouseUp),i.stage.once("mouseout",this,this.mouseUp),this.showValueText()},o.showValueText=function(){var t;this.showLabel&&(t=laya.ui.Slider.label,this.addChild(t),t.textField.changeText(this._value+""),this.isVertical?(t.x=this._bar.x+20,t.y=.5*(this._bar.height-t.height)+this._bar.y):(t.y=this._bar.y-20,t.x=.5*(this._bar.width-t.width)+this._bar.x))},o.hideValueText=function(){laya.ui.Slider.label&&laya.ui.Slider.label.removeSelf()},o.mouseUp=function(t){i.stage.off("mousemove",this,this.mouseMove),i.stage.off("mouseup",this,this.mouseUp),i.stage.off("mouseout",this,this.mouseUp),this.sendChangeEvent("changed"),this.hideValueText()},o.mouseMove=function(t){var e=this._value;this.isVertical?(this._bar.y+=(i.stage.mouseY-this._ty)/this._globalSacle.y,this._bar.y>this._maxMove?this._bar.y=this._maxMove:this._bar.y<0&&(this._bar.y=0),this._value=this._bar.y/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x+=(i.stage.mouseX-this._tx)/this._globalSacle.x,this._bar.x>this._maxMove?this._bar.x=this._maxMove:this._bar.x<0&&(this._bar.x=0),this._value=this._bar.x/this._maxMove*(this._max-this._min)+this._min,this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width)),this._tx=i.stage.mouseX,this._ty=i.stage.mouseY;var s=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*s)/s,this._value!=e&&this.sendChangeEvent(),this.showValueText()},o.sendChangeEvent=function(t){this.event(t=void 0===t?"change":t),this.changeHandler&&this.changeHandler.runWith(this._value)},o.setBarPoint=function(){this.isVertical?this._bar.x=Math.round(.5*(this._bg.width-this._bar.width)):this._bar.y=Math.round(.5*(this._bg.height-this._bar.height))},o.changeSize=function(){t.prototype.changeSize.call(this),this.isVertical?this._bg.height=this.height:this._bg.width=this.width,this.setBarPoint(),this.changeValue()},o.setSlider=function(t,i,e){this._value=-1,this._min=t,this._max=t<i?i:t,this.value=e<t?t:i<e?i:e},o.changeValue=function(){var t=Math.pow(10,(this._tick+"").length-1);this._value=Math.round(Math.round(this._value/this._tick)*this._tick*t)/t,this._value=this._value>this._max?this._max:this._value<this._min?this._min:this._value,0==(t=this._max-this._min)&&(t=1),this.isVertical?(this._bar.y=(this._value-this._min)/t*(this.height-this._bar.height),this._progress&&(this._progress.height=this._bar.y+.5*this._bar.height)):(this._bar.x=(this._value-this._min)/t*(this.width-this._bar.width),this._progress&&(this._progress.width=this._bar.x+.5*this._bar.width))},o.onBgMouseDown=function(t){var i=this._bg.getMousePoint();this.isVertical?this.value=i.y/(this.height-this._bar.height)*(this._max-this._min)+this._min:this.value=i.x/(this.width-this._bar.width)*(this._max-this._min)+this._min},n(0,o,"measureHeight",(function(){return Math.max(this._bg.height,this._bar.height)})),n(0,o,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),t=this._skin.replace(".png","$progress.png"),m.getRes(t)&&(this._progress||(this.addChild(this._progress=new R),this._progress.sizeGrid=this._bar.sizeGrid,this.setChildIndex(this._progress,1)),this._progress.skin=t),this.setBarPoint(),this.callLater(this.changeValue))})),n(0,o,"allowClickBack",(function(){return this._allowClickBack}),(function(t){this._allowClickBack!=t&&((this._allowClickBack=t)?this._bg.on("mousedown",this,this.onBgMouseDown):this._bg.off("mousedown",this,this.onBgMouseDown))})),n(0,o,"max",(function(){return this._max}),(function(t){this._max!=t&&(this._max=t,this.callLater(this.changeValue))})),n(0,o,"measureWidth",(function(){return Math.max(this._bg.width,this._bar.width)})),n(0,o,"tick",(function(){return this._tick}),(function(t){this._tick!=t&&(this._tick=t,this.callLater(this.changeValue))})),n(0,o,"sizeGrid",(function(){return this._bg.sizeGrid}),(function(t){this._bg.sizeGrid=t,this._bar.sizeGrid=t,this._progress&&(this._progress.sizeGrid=this._bar.sizeGrid)})),n(0,o,"min",(function(){return this._min}),(function(t){this._min!=t&&(this._min=t,this.callLater(this.changeValue))})),n(0,o,"value",(function(){return this._value}),(function(t){var i;this._value!=t&&(i=this._value,this._value=t,this.changeValue(),this._value!=i&&this.sendChangeEvent())})),n(0,o,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)||"string"==typeof t?this.value=Number(t):i.superSet(X,this,"dataSource",t)})),n(0,o,"bar",(function(){return this._bar})),e(h,["label",function(){return this.label=new J}]),h}(X),J=function(t){function e(t){this._tf=null,e.__super.call(this),void 0===t&&(t=""),u.defaultColor=z.labelColor,this.text=t}s(e,"laya.ui.Label",t);var h=e.prototype;return h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._tf=null},h.createChildren=function(){this.addChild(this._tf=new x)},h.changeText=function(t){this._tf.changeText(t)},n(0,h,"padding",(function(){return this._tf.padding.join(",")}),(function(t){this._tf.padding=H.fillArray(z.labelPadding,t,Number)})),n(0,h,"bold",(function(){return this._tf.bold}),(function(t){this._tf.bold=t})),n(0,h,"align",(function(){return this._tf.align}),(function(t){this._tf.align=t})),n(0,h,"text",(function(){return this._tf.text}),(function(t){this._tf.text!=t&&(t=t&&H.adptString(t+""),this._tf.text=t,this.event("change"),this._width&&this._height||this.onCompResize())})),n(0,h,"italic",(function(){return this._tf.italic}),(function(t){this._tf.italic=t})),n(0,h,"wordWrap",(function(){return this._tf.wordWrap}),(function(t){this._tf.wordWrap=t})),n(0,h,"font",(function(){return this._tf.font}),(function(t){this._tf.font=t})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)||"string"==typeof t?this.text=t+"":i.superSet(X,this,"dataSource",t)})),n(0,h,"color",(function(){return this._tf.color}),(function(t){this._tf.color=t})),n(0,h,"valign",(function(){return this._tf.valign}),(function(t){this._tf.valign=t})),n(0,h,"leading",(function(){return this._tf.leading}),(function(t){this._tf.leading=t})),n(0,h,"fontSize",(function(){return this._tf.fontSize}),(function(t){this._tf.fontSize=t})),n(0,h,"bgColor",(function(){return this._tf.bgColor}),(function(t){this._tf.bgColor=t})),n(0,h,"borderColor",(function(){return this._tf.borderColor}),(function(t){this._tf.borderColor=t})),n(0,h,"stroke",(function(){return this._tf.stroke}),(function(t){this._tf.stroke=t})),n(0,h,"strokeColor",(function(){return this._tf.strokeColor}),(function(t){this._tf.strokeColor=t})),n(0,h,"textField",(function(){return this._tf})),n(0,h,"measureWidth",(function(){return this._tf.width})),n(0,h,"measureHeight",(function(){return this._tf.height})),n(0,h,"width",(function(){return this._width||this._tf.text?i.superGet(X,this,"width"):0}),(function(t){i.superSet(X,this,"width",t),this._tf.width=t})),n(0,h,"height",(function(){return this._height||this._tf.text?i.superGet(X,this,"height"):0}),(function(t){i.superSet(X,this,"height",t),this._tf.height=t})),n(0,h,"overflow",(function(){return this._tf.overflow}),(function(t){this._tf.overflow=t})),n(0,h,"underline",(function(){return this._tf.underline}),(function(t){this._tf.underline=t})),n(0,h,"underlineColor",(function(){return this._tf.underlineColor}),(function(t){this._tf.underlineColor=t})),e}(X),K=function(t){function e(t){this.changeHandler=null,this._bg=null,this._bar=null,this._skin=null,this._value=.5,e.__super.call(this),this.skin=t}s(e,"laya.ui.ProgressBar",t);var h=e.prototype;return h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._bg&&this._bg.destroy(i),this._bar&&this._bar.destroy(i),this._bg=this._bar=null,this.changeHandler=null},h.createChildren=function(){this.addChild(this._bg=new R),this.addChild(this._bar=new R),this._bar._bitmap.autoCacheCmd=!1},h.changeValue=function(){var t,i,e;this.sizeGrid?(e=this.sizeGrid.split(","),t=Number(e[3]),i=Number(e[1]),e=(this.width-t-i)*this._value,this._bar.width=t+i+e,this._bar.visible=this._bar.width>t+i):this._bar.width=this.width*this._value},n(0,h,"measureHeight",(function(){return this._bg.height})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this._bg.skin=this._skin,this._bar.skin=this._skin.replace(".png","$bar.png"),this.callLater(this.changeValue))})),n(0,h,"measureWidth",(function(){return this._bg.width})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(X,this,"height",t),this._bg.height=this._height,this._bar.height=this._height})),n(0,h,"bar",(function(){return this._bar})),n(0,h,"value",(function(){return this._value}),(function(t){this._value!=t&&(this._value=t=1<t?1:t<0?0:t,this.callLater(this.changeValue),this.event("change"),this.changeHandler&&this.changeHandler.runWith(t))})),n(0,h,"bg",(function(){return this._bg})),n(0,h,"sizeGrid",(function(){return this._bg.sizeGrid}),(function(t){this._bg.sizeGrid=this._bar.sizeGrid=t})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(X,this,"width",t),this._bg.width=this._width,this.callLater(this.changeValue)})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)||"string"==typeof t?this.value=Number(t):i.superSet(X,this,"dataSource",t)})),e}(X),Z=(function(){function t(){this._tipBox=null,this._tipText=null,this._defaultTipHandler=null,t.__super.call(this),this._tipBox=new X,this._tipBox.addChild(this._tipText=new x),this._tipText.x=this._tipText.y=5,this._tipText.color=t.tipTextColor,this._defaultTipHandler=this._showDefaultTip,i.stage.on("showtip",this,this._onStageShowTip),i.stage.on("hidetip",this,this._onStageHideTip),this.zOrder=1100}s(t,"laya.ui.TipManager",X);var e=t.prototype;e._onStageHideTip=function(t){i.timer.clear(this,this._showTip),this.closeAll(),this.removeSelf()},e._onStageShowTip=function(e){i.timer.once(t.tipDelay,this,this._showTip,[e],!0)},e._showTip=function(t){var e;"string"==typeof t?(e=String(t),Boolean(e)&&this._defaultTipHandler(e)):t instanceof laya.utils.Handler?t.run():"function"==typeof t&&t.apply(),i.stage.on("mousemove",this,this._onStageMouseMove),i.stage.on("mousedown",this,this._onStageMouseDown),this._onStageMouseMove(null)},e._onStageMouseDown=function(t){this.closeAll()},e._onStageMouseMove=function(i){this._showToStage(this,t.offsetX,t.offsetY)},e._showToStage=function(t,e,s){void 0===e&&(e=0),void 0===s&&(s=0);var n=t.getBounds();t.x=i.stage.mouseX+e,t.y=i.stage.mouseY+s,t.x+n.width>i.stage.width&&(t.x-=n.width+e),t.y+n.height>i.stage.height&&(t.y-=n.height+s)},e.closeAll=function(){i.timer.clear(this,this._showTip),i.stage.off("mousemove",this,this._onStageMouseMove),i.stage.off("mousedown",this,this._onStageMouseDown),this.removeChildren()},e.showDislayTip=function(t){this.addChild(t),this._showToStage(this),i._currentStage.addChild(this)},e._showDefaultTip=function(e){this._tipText.text=e,(e=this._tipBox.graphics).clear(),e.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,t.tipBackColor),this.addChild(this._tipBox),this._showToStage(this),i._currentStage.addChild(this)},n(0,e,"defaultTipHandler",(function(){return this._defaultTipHandler}),(function(t){this._defaultTipHandler=t})),t.offsetX=10,t.offsetY=15,t.tipTextColor="#ffffff",t.tipBackColor="#111111",t.tipDelay=200}(),function(t){function e(t){this.advsListArr=[],this.resUrl="https://unioncdn.layabox.com/config/iconlist.json",this._data=[],this._resquestTime=36e4,this._appid=null,this._appCodeImgStr=null,this._playIndex=0,this._lunboTime=5e3,e.__super.call(this),this._http=new o.window.XMLHttpRequest,this.skin=t,this.init(),this.size(120,120)}s(e,"laya.ui.AdvImage",t);var h=e.prototype;h.init=function(){o.onMiniGame&&this.isSupportJump?(i.timer.loop(this._resquestTime,this,this.onGetAdvsListData),this.onGetAdvsListData(),this.initEvent()):this.visible=!1},h.initEvent=function(){this.on("click",this,this.onAdvsImgClick)},h.onAdvsImgClick=function(){this.getCurrentAppidObj()&&this.jumptoGame()},h.revertAdvsData=function(){this.advsListArr[this._playIndex]&&(this.visible=!0,this.skin=this.advsListArr[this._playIndex])},h.jumptoGame=function(){var t=this;o.onMiniGame&&this.isSupportJump&&wx.navigateToMiniProgram({appId:this._appid,path:"",extraData:"",envVersion:"release",success:function(){console.log("---------------------------")},fail:function(){console.log("---------------------------")},complete:function(){console.log("---------------------------"),t.updateAdvsInfo()}.bind(this)})},h.updateAdvsInfo=function(){this.visible=!1,this.onLunbo(),i.timer.loop(this._lunboTime,this,this.onLunbo)},h.onLunbo=function(){this._playIndex>=this.advsListArr.length-1?this._playIndex=0:this._playIndex+=1,this.visible=!0,this.revertAdvsData()},h.getCurrentAppidObj=function(){return this.advsListArr[this._playIndex]},h.onGetAdvsListData=function(){var t=this,i=this.randRange(1e4,1e6);i=this.resUrl+"?"+i,this._http.open("get",i,!0),this._http.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._http.responseType="text",this._http.onerror=function(i){t._onError(i)},this._http.onload=function(i){t._onLoad(i)},this._http.send(null)},h.randRange=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},h._onError=function(t){this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText)},h._onLoad=function(t){var i=this._http,e=void 0!==i.status?i.status:200;200===e||204===e||0===e?this.complete():this.error("["+i.status+"]"+i.statusText+":"+i.responseURL)},h.error=function(t){this.event("error",t)},h.complete=function(){try{this._data=this._http.response||this._http.responseText,this._data=JSON.parse(this._data),this.advsListArr=this._data.list,this._appid=this._data.appid,this._appCodeImgStr=this._data.qrcode,this.updateAdvsInfo(),this.revertAdvsData()}catch(t){this.error(t.message)}},h.clear=function(){var t=this._http;t.onerror=t.onabort=t.onprogress=t.onload=null},h.destroy=function(e){void 0===e&&(e=!0),t.prototype.destroy.call(this,!0),i.timer.clear(this,this.onLunbo),i.timer.clear(this,this.onGetAdvsListData),this.clear()},n(0,h,"isSupportJump",(function(){return!!o.onMiniGame&&"function"==typeof wx.navigateToMiniProgram}))}(R),function(){var t;function n(){this._idMap=null,this._aniList=null,this._watchMap={},n.__super.call(this)}s(n,"laya.ui.View",V);var o=n.prototype;return o.createView=function(t){if(t.animations&&!this._idMap&&(this._idMap={}),n.createComp(t,this,this),t.animations){var i,e,s=[],h=t.animations,o=0,r=h.length;for(o=0;o<r;o++){switch(i=new _,e=h[o],i._setUp(this._idMap,e),(this[e.name]=i)._setControlNode(this),e.action){case 1:i.play(0,!1);break;case 2:i.play(0,!0)}s.push(i)}this._aniList=s}0<this._width&&null==t.props.hitTestPrior&&!this.mouseThrough&&(this.hitTestPrior=!0)},o.onEvent=function(t,i){},o.loadUI=function(t){(t=n.uiMap[t])&&this.createView(t)},o.destroy=function(t){void 0===t&&(t=!0),this._aniList&&(this._aniList.length=0),this._idMap=null,this._aniList=null,this._watchMap=null,laya.ui.Component.prototype.destroy.call(this,t)},o.changeData=function(t){var i=this._watchMap[t];if(i){console.log("change",t);for(var e=0,s=i.length;e<s;e++)i[e].exe(this)}},n._regs=function(){for(var t in n.uiClassMap)r.regClass(t,n.uiClassMap[t])},n.createComp=function(t,e,s,h){if(!(e=e||n.getCompInstance(t)))return console.warn("can not create:"+t.type),null;var o=t.child;if(o)for(var a=e instanceof laya.ui.List,l=0,c=o.length;l<c;l++){var u,_,d=o[l];!e.hasOwnProperty("itemRender")||"render"!=d.props.name&&"render"!==d.props.renderType?"Graphic"==d.type?r.addGraphicsToSprite(d,e):r.isDrawType(d.type)?r.addGraphicToSprite(d,e,!0):(a?(_=n.createComp(d,null,s,u=[]),u.length&&(_._$bindData=u)):_=n.createComp(d,null,s,h),"Script"==d.type?"owner"in _?_.owner=e:"target"in _&&(_.target=e):"mask"==d.props.renderType||"mask"==d.props.name?e.mask=_:_ instanceof laya.display.Sprite&&e.addChild(_)):e.itemRender=d}var f,g=t.props;for(f in g){var p=g[f];n.eventDic[f]?p&&s&&e.on(f,s,s.onEvent,[p]):n.setCompValue(e,f,p,s,h)}return i.__typeof(e,"laya.ui.IItem")&&e.initItems(),t.compId&&s&&s._idMap&&(s._idMap[t.compId]=e),e},n.setCompValue=function(e,s,h,o,a){if("string"==typeof h&&-1<h.indexOf("${"))if(n._sheet||(n._sheet=r.getClass("laya.data.Table")),n._sheet){if(a)a.push(e,s,h);else if(o){-1==h.indexOf("].")&&(h=h.replace(".","[0]."));var l,c=new t(e,s,h);c.exe(o);for(var u=h.replace(/\[.*?\]\./g,".");null!=(l=n._parseWatchData.exec(u));){for(var _=l[1];null!=(d=n._parseKeyWord.exec(_));){var d=d[0],f=o._watchMap[d]||(o._watchMap[d]=[]);f.push(c),n._sheet.I.notifer.on(d,o,o.changeData,[d])}(f=o._watchMap[_]||(o._watchMap[_]=[])).push(c),n._sheet.I.notifer.on(_,o,o.changeData,[_])}}}else console.warn("Can not find class Sheet");else"var"===s&&o?o[h]=e:"onClick"==s?(a=i._runScript("(function(){"+h+"})"),e.on("click",o,a)):e[s]="true"===h||"false"!==h&&h},n.getCompInstance=function(t){var e=(e=t.props?t.props.runtime:null)?n.viewClassMap[e]||n.uiClassMap[e]||i.__classmap[e]:n.uiClassMap[t.type];return t.props&&t.props.hasOwnProperty("renderType")&&"instance"==t.props.renderType?e.instance:e?new e:null},n.regComponent=function(t,i){n.uiClassMap[t]=i,r.regClass(t,i)},n.regViewRuntime=function(t,i){n.viewClassMap[t]=i},n.uiMap={},n.viewClassMap={},n._sheet=null,e(n,["uiClassMap",function(){return this.uiClassMap={ViewStack:ut,LinkButton:W,TextArea:wt,ColorPicker:U,Box:V,Button:W,CheckBox:Q,Clip:$,ComboBox:F,Component:X,HScrollBar:st,HSlider:ot,Image:R,Label:J,List:et,Panel:ht,ProgressBar:K,Radio:lt,RadioGroup:Ct,ScrollBar:j,Slider:q,Tab:St,TextInput:ft,View:n,VScrollBar:_t,VSlider:gt,Tree:ct,HBox:yt,VBox:vt,Sprite:S,Animation:h,Text:x,FontClip:it}},"eventDic",function(){return this.eventDic={mousedown:!0,mouseup:!0,mousemove:!0,mouseover:!0,mouseout:!0,click:!0,doubleclick:!0,rightmousedown:!0,rightmouseup:!0,rightclick:!0}},"_parseWatchData",function(){return this._parseWatchData=/\${(.*?)}/g},"_parseKeyWord",function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g}]),n.__init$=function(){function i(t,i,e){this.comp=null,this.prop=null,this.value=null,this.comp=t,this.prop=i,this.value=e}n._regs(),s(i,""),i.prototype.exe=function(t){var i=H.getBindFun(this.value);this.comp[this.prop]=i.call(this,t)},t=i},n}()),Q=function(t){function e(t,i){e.__super.call(this,t,i=void 0===i?"":i)}s(e,"laya.ui.CheckBox",t);var h=e.prototype;return h.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!0,this._autoSize=!1},h.initialize=function(){t.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0},n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"boolean"==typeof(this._dataSource=t)?this.selected=t:"string"==typeof t?this.selected="true"===t:i.superSet(W,this,"dataSource",t)})),e}(W),tt=function(){function t(){this._space=0,this._align="none",this._itemChanged=!1,t.__super.call(this)}s(t,"laya.ui.LayoutBox",V);var i=t.prototype;return i.addChild=function(t){return t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChild.call(this,t)},i.onResize=function(t){this._setItemChanged()},i.addChildAt=function(t,i){return t.on("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.addChildAt.call(this,t,i)},i.removeChildAt=function(t){return this.getChildAt(t).off("resize",this,this.onResize),this._setItemChanged(),laya.display.Node.prototype.removeChildAt.call(this,t)},i.refresh=function(){this._setItemChanged()},i.changeItems=function(){this._itemChanged=!1},i.sortItem=function(t){t&&t.sort((function(t,i){return t.y-i.y}))},i._setItemChanged=function(){this._itemChanged||(this._itemChanged=!0,this.callLater(this.changeItems))},n(0,i,"space",(function(){return this._space}),(function(t){this._space=t,this._setItemChanged()})),n(0,i,"align",(function(){return this._align}),(function(t){this._align=t,this._setItemChanged()})),t}(),it=function(t){function e(t,i){this._valueArr=null,this._indexMap=null,this._sheet=null,this._direction="horizontal",this._spaceX=0,this._spaceY=0,this._align="left",this._wordsW=0,this._wordsH=0,e.__super.call(this),t&&(this.skin=t),i&&(this.sheet=i)}s(e,"laya.ui.FontClip",t);var h=e.prototype;return h.createChildren=function(){this._bitmap=new N,this.on("loaded",this,this._onClipLoaded)},h._onClipLoaded=function(){this.callLater(this.changeValue)},h.changeValue=function(){var t;if(this._sources&&this._valueArr&&(this.graphics.clear(!0),t=this._sources[0])){var i="horizontal"===this._direction;i?(this._wordsW=this._valueArr.length*(t.sourceWidth+this.spaceX),this._wordsH=t.sourceHeight):(this._wordsW=t.sourceWidth,this._wordsH=(t.sourceHeight+this.spaceY)*this._valueArr.length);var e=0;if(this._width)switch(this._align){case"center":e=.5*(this._width-this._wordsW);break;case"right":e=this._width-this._wordsW;break;default:e=0}for(var s=0,n=this._valueArr.length;s<n;s++){var h=this._indexMap[this._valueArr.charAt(s)];this.sources[h]&&(t=this.sources[h],i?this.graphics.drawTexture(t,e+s*(t.sourceWidth+this.spaceX),0,t.sourceWidth,t.sourceHeight):this.graphics.drawTexture(t,0+e,s*(t.sourceHeight+this.spaceY),t.sourceWidth,t.sourceHeight))}this._width||(this.resetLayoutX(),this.callLater(this.changeSize)),this._height||(this.resetLayoutY(),this.callLater(this.changeSize))}},h.destroy=function(i){void 0===i&&(i=!0),this._valueArr=null,this._indexMap=null,this.graphics.clear(!0),this.removeSelf(),this.off("loaded",this,this._onClipLoaded),t.prototype.destroy.call(this,i)},n(0,h,"sheet",(function(){return this._sheet}),(function(t){var i=(this._sheet=t+="").split(" ");this._clipX=String(i[0]).length,this.clipY=i.length,this._indexMap={};for(var e=0;e<this._clipY;e++)for(var s=i[e].split(""),n=0,h=s.length;n<h;n++)this._indexMap[s[n]]=e*this._clipX+n})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet($,this,"height",t),this.callLater(this.changeValue)})),n(0,h,"direction",(function(){return this._direction}),(function(t){this._direction=t,this.callLater(this.changeValue)})),n(0,h,"value",(function(){return this._valueArr||""}),(function(t){this._valueArr=t+="",this.callLater(this.changeValue)})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet($,this,"width",t),this.callLater(this.changeValue)})),n(0,h,"spaceX",(function(){return this._spaceX}),(function(t){this._spaceX=t,"horizontal"===this._direction&&this.callLater(this.changeValue)})),n(0,h,"spaceY",(function(){return this._spaceY}),(function(t){this._spaceY=t,"horizontal"!==this._direction&&this.callLater(this.changeValue)})),n(0,h,"align",(function(){return this._align}),(function(t){this._align=t,this.callLater(this.changeValue)})),n(0,h,"measureWidth",(function(){return this._wordsW})),n(0,h,"measureHeight",(function(){return this._wordsH})),e}($),et=function(t){function e(){this.selectHandler=null,this.renderHandler=null,this.mouseHandler=null,this.selectEnable=!1,this.totalPage=0,this._content=null,this._scrollBar=null,this._itemRender=null,this._repeatX=0,this._repeatY=0,this._repeatX2=0,this._repeatY2=0,this._spaceX=0,this._spaceY=0,this._array=null,this._startIndex=0,this._selectedIndex=-1,this._page=0,this._isVertical=!0,this._cellSize=20,this._cellOffset=0,this._isMoved=!1,this.cacheContent=!1,this._createdLine=0,this._cellChanged=!1,this._cells=[],this._offset=new v,e.__super.call(this)}s(e,"laya.ui.List",t);var h=e.prototype;return i.imps(h,{"laya.ui.IRender":!0,"laya.ui.IItem":!0}),h.destroy=function(t){void 0===t&&(t=!0),this._content&&this._content.destroy(t),this._scrollBar&&this._scrollBar.destroy(t),laya.ui.Component.prototype.destroy.call(this,t),this._content=null,this._scrollBar=null,this._itemRender=null,this._cells=null,this._array=null,this.selectHandler=this.renderHandler=this.mouseHandler=null},h.createChildren=function(){this.addChild(this._content=new V)},h.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=i.superGet(V,this,"cacheAs")),i.superSet(V,this,"cacheAs","none"),this._scrollBar.once("end",this,this.onScrollEnd)},h.onScrollEnd=function(){i.superSet(V,this,"cacheAs",this._$P.cacheAs)},h._removePreScrollBar=function(){var t=this.removeChildByName("scrollBar");t&&t.destroy(!0)},h.changeCells=function(){var t,i,e,s;this._cellChanged=!1,this._itemRender&&(this.scrollBar=this.getChildByName("scrollBar"),t=(s=this._getOneCell()).width+this._spaceX||1,i=s.height+this._spaceY||1,0<this._width&&(this._repeatX2=this._isVertical?Math.round(this._width/t):Math.ceil(this._width/t)),0<this._height&&(this._repeatY2=this._isVertical?Math.ceil(this._height/i):Math.round(this._height/i)),e=this._width||t*this.repeatX-this._spaceX,s=this._height||i*this.repeatY-this._spaceY,this._cellSize=this._isVertical?i:t,this._cellOffset=this._isVertical?i*Math.max(this._repeatY2,this._repeatY)-s-this._spaceY:t*Math.max(this._repeatX2,this._repeatX)-e-this._spaceX,this._isVertical&&this._scrollBar?this._scrollBar.height=s:!this._isVertical&&this._scrollBar&&(this._scrollBar.width=e),this.setContentSize(e,s),e=this._isVertical?this.repeatX:this.repeatY,s=(this._isVertical?this.repeatY:this.repeatX)+(this._scrollBar?1:0),this._createItems(0,e,s),this._createdLine=s,this._array&&(this.array=this._array,this.runCallLater(this.renderItems)))},h._getOneCell=function(){if(0===this._cells.length){var t=this.createItem();if(this._offset.setTo(t.x,t.y),this.cacheContent)return t;this._cells.push(t)}return this._cells[0]},h._createItems=function(t,i,e){var s=this._content,n=this._getOneCell(),h=n.width+this._spaceX,o=n.height+this._spaceY;if(this.cacheContent){var r=new V;r.cacheAsBitmap=!0,r.pos((this._isVertical?0:t)*h,(this._isVertical?t:0)*o),this._content.addChild(r),this._content.optimizeScrollRect=!0,s=r}else{for(var a=[],l=this._cells.length-1;-1<l;l--){var c=this._cells[l];c.removeSelf(),a.push(c)}this._cells.length=0}for(var u=t;u<e;u++)for(var _=0;_<i;_++)(n=a&&a.length?a.pop():this.createItem()).x=(this._isVertical?_:u)*h-s.x,n.y=(this._isVertical?u:_)*o-s.y,n.name="item"+(u*i+_),s.addChild(n),this.addCell(n)},h.createItem=function(){var t=[],i="function"==typeof this._itemRender?new this._itemRender:Z.createComp(this._itemRender,null,null,t);if(0==t.length&&i._watchMap){var e,s=i._watchMap;for(e in s)for(var n=s[e],h=0;h<n.length;h++){var o=n[h];t.push(o.comp,o.prop,o.value)}}return t.length&&(i._$bindData=t),i},h.addCell=function(t){t.on("click",this,this.onCellMouse),t.on("rightclick",this,this.onCellMouse),t.on("mouseover",this,this.onCellMouse),t.on("mouseout",this,this.onCellMouse),t.on("mousedown",this,this.onCellMouse),t.on("mouseup",this,this.onCellMouse),this._cells.push(t)},h.initItems=function(){if(!this._itemRender&&null!=this.getChildByName("item0")){this.repeatX=1;for(var t=0,i=(t=0,0);i<1e4;i++){var e=this.getChildByName("item"+i);if(!e)break;this.addCell(e),t++}this.repeatY=t}},h.setContentSize=function(t,i){this._content.width=t,this._content.height=i,!this._scrollBar&&0==this._offset.x&&0==this._offset.y||(this._content.scrollRect||(this._content.scrollRect=new C),this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,t,i),this._content.scrollRect=this._content.scrollRect),this.event("resize")},h.onCellMouse=function(t){"mousedown"===t.type&&(this._isMoved=!1);var i=t.currentTarget,e=this._startIndex+this._cells.indexOf(i);e<0||("click"===t.type||"rightclick"===t.type?this.selectEnable&&!this._isMoved?this.selectedIndex=e:this.changeCellState(i,!0,0):"mouseover"!==t.type&&"mouseout"!==t.type||this._selectedIndex===e||this.changeCellState(i,"mouseover"===t.type,0),this.mouseHandler&&this.mouseHandler.runWith([t,e]))},h.changeCellState=function(t,i,e){(t=t.getChildByName("selectBox"))&&(this.selectEnable=!0,t.visible=i,t.index=e)},h.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this.width,this.height),this._scrollBar&&this.callLater(this.onScrollBarChange)},h.onScrollBarChange=function(t){this.runCallLater(this.changeCells);var i=this._scrollBar.value,e=this._isVertical?this.repeatX:this.repeatY,s=this._isVertical?this.repeatY:this.repeatX,n=Math.floor(i/this._cellSize);if(this.cacheContent)this._createdLine-n<(a=s+1)&&(this._createItems(this._createdLine,e,this._createdLine+a),this.renderItems(this._createdLine*e,0),this._createdLine+=a);else{var h,o,r=n*e,a=0;r>this._startIndex?(a=r-this._startIndex,o=this._startIndex+e*(s+1),this._isMoved=h=!0):r<this._startIndex&&(a=this._startIndex-r,o=this._startIndex-1,this._isMoved=!(h=!1));for(var l=0;l<a;l++){var c,u=h?(c=this._cells.shift(),this._cells[this._cells.length]=c,o+l):(c=this._cells.pop(),this._cells.unshift(c),o-l),_=Math.floor(u/e)*this._cellSize;this._isVertical?c.y=_:c.x=_,this.renderItem(c,u)}this._startIndex=r,this.changeSelectStatus()}r=this._content.scrollRect,this._isVertical?(r.y=i-this._offset.y,r.x=-this._offset.x):(r.y=-this._offset.y,r.x=i-this._offset.x),this._content.scrollRect=r},h.posCell=function(t,i){var e;this._scrollBar&&(e=this._isVertical?this.repeatX:this.repeatY,this._isVertical?this.repeatY:this.repeatX,e=Math.floor(i/e)*this._cellSize,this._isVertical?t.y=e:t.x=e)},h.changeSelectStatus=function(){for(var t=0,i=this._cells.length;t<i;t++)this.changeCellState(this._cells[t],this._selectedIndex===this._startIndex+t,1)},h.renderItems=function(t,i){for(var e=t=void 0===t?0:t,s=(i=void 0===i?0:i)||this._cells.length;e<s;e++)this.renderItem(this._cells[e],this._startIndex+e);this.changeSelectStatus()},h.renderItem=function(t,i){this._array&&0<=i&&i<this._array.length?(t.visible=!0,t._$bindData?(t._dataSource=this._array[i],this._bindData(t,this._array[i])):t.dataSource=this._array[i],this.cacheContent||this.posCell(t,i),this.hasListener("render")&&this.event("render",[t,i]),this.renderHandler&&this.renderHandler.runWith([t,i])):(t.visible=!1,t.dataSource=null)},h._bindData=function(t,i){for(var e=t._$bindData,s=0,n=e.length;s<n;s++){var h=e[s++],o=e[s++],r=e[s];r=H.getBindFun(r),h[o]=r.call(this,i)}},h.refresh=function(){this.array=this._array},h.getItem=function(t){return-1<t&&t<this._array.length?this._array[t]:null},h.changeItem=function(t,i){-1<t&&t<this._array.length&&(this._array[t]=i,t>=this._startIndex&&t<this._startIndex+this._cells.length&&this.renderItem(this.getCell(t),t))},h.setItem=function(t,i){this.changeItem(t,i)},h.addItem=function(t){this._array.push(t),this.array=this._array},h.addItemAt=function(t,i){this._array.splice(i,0,t),this.array=this._array},h.deleteItem=function(t){this._array.splice(t,1),this.array=this._array},h.getCell=function(t){return this.runCallLater(this.changeCells),-1<t&&this._cells?this._cells[(t-this._startIndex)%this._cells.length]:null},h.scrollTo=function(t){var i;this._scrollBar?(i=this._isVertical?this.repeatX:this.repeatY,this._scrollBar.value=Math.floor(t/i)*this._cellSize):this.startIndex=t},h.tweenTo=function(t,i,e){var s;void 0===i&&(i=200),this._scrollBar?(s=this._isVertical?this.repeatX:this.repeatY,I.to(this._scrollBar,{value:Math.floor(t/s)*this._cellSize},i,null,e,0,!0)):(this.startIndex=t,e&&e.run())},h._setCellChanged=function(){this._cellChanged||(this._cellChanged=!0,this.callLater(this.changeCells))},h.commitMeasure=function(){this.runCallLater(this.changeCells)},n(0,h,"cacheAs",t.prototype._$get_cacheAs,(function(t){i.superSet(V,this,"cacheAs",t),this._scrollBar&&(this._$P.cacheAs=null,"none"!==t?this._scrollBar.on("start",this,this.onScrollStart):this._scrollBar.off("start",this,this.onScrollStart))})),n(0,h,"content",(function(){return this._content})),n(0,h,"height",t.prototype._$get_height,(function(t){t!=this._height&&(i.superSet(V,this,"height",t),this._setCellChanged())})),n(0,h,"itemRender",(function(){return this._itemRender}),(function(t){if(this._itemRender!=t){this._itemRender=t;for(var i=this._cells.length-1;-1<i;i--)this._cells[i].destroy();this._cells.length=0,this._setCellChanged()}})),n(0,h,"vScrollBarSkin",(function(){return this._scrollBar?this._scrollBar.skin:null}),(function(t){this._removePreScrollBar();var i=new _t;i.name="scrollBar",i.right=0,t&&" "!=t&&(i.skin=t),this.scrollBar=i,this.addChild(i),this._setCellChanged()})),n(0,h,"page",(function(){return this._page}),(function(t){this._page=t,this._array&&(this._page=0<t?t:0,this._page=this._page<this.totalPage?this._page:this.totalPage-1,this.startIndex=this._page*this.repeatX*this.repeatY)})),n(0,h,"hScrollBarSkin",(function(){return this._scrollBar?this._scrollBar.skin:null}),(function(t){this._removePreScrollBar();var i=new st;i.name="scrollBar",i.bottom=0,t&&" "!=t&&(i.skin=t),this.scrollBar=i,this.addChild(i),this._setCellChanged()})),n(0,h,"repeatX",(function(){return 0<this._repeatX?this._repeatX:0<this._repeatX2?this._repeatX2:1}),(function(t){this._repeatX=t,this._setCellChanged()})),n(0,h,"scrollBar",(function(){return this._scrollBar}),(function(t){this._scrollBar!=t&&(this._scrollBar=t)&&(this._isVertical=this._scrollBar.isVertical,this.addChild(this._scrollBar),this._scrollBar.on("change",this,this.onScrollBarChange))})),n(0,h,"width",t.prototype._$get_width,(function(t){t!=this._width&&(i.superSet(V,this,"width",t),this._setCellChanged())})),n(0,h,"repeatY",(function(){return 0<this._repeatY?this._repeatY:0<this._repeatY2?this._repeatY2:1}),(function(t){this._repeatY=t,this._setCellChanged()})),n(0,h,"spaceX",(function(){return this._spaceX}),(function(t){this._spaceX=t,this._setCellChanged()})),n(0,h,"spaceY",(function(){return this._spaceY}),(function(t){this._spaceY=t,this._setCellChanged()})),n(0,h,"selectedIndex",(function(){return this._selectedIndex}),(function(t){this._selectedIndex!=t&&(this._selectedIndex=t,this.changeSelectStatus(),this.event("change"),this.selectHandler&&this.selectHandler.runWith(t),this.startIndex=this._startIndex)})),n(0,h,"selectedItem",(function(){return-1!=this._selectedIndex?this._array[this._selectedIndex]:null}),(function(t){this.selectedIndex=this._array.indexOf(t)})),n(0,h,"length",(function(){return this._array?this._array.length:0})),n(0,h,"selection",(function(){return this.getCell(this._selectedIndex)}),(function(t){this.selectedIndex=this._startIndex+this._cells.indexOf(t)})),n(0,h,"startIndex",(function(){return this._startIndex}),(function(t){this._startIndex=0<t?t:0,this.callLater(this.renderItems)})),n(0,h,"array",(function(){return this._array}),(function(t){this.runCallLater(this.changeCells),this._array=t||[];var i,e=this._array.length;this.totalPage=Math.ceil(e/(this.repeatX*this.repeatY)),this._selectedIndex=this._selectedIndex<e?this._selectedIndex:e-1,this.startIndex=this._startIndex,this._scrollBar&&(this._scrollBar.stopScroll(),i=this._isVertical?this.repeatX:this.repeatY,t=this._isVertical?this.repeatY:this.repeatX,i=Math.ceil(e/i),1<(0<this._cellOffset?this.totalPage+1:this.totalPage)?(this._scrollBar.scrollSize=this._cellSize,this._scrollBar.thumbPercent=t/i,this._scrollBar.setScroll(0,(i-t)*this._cellSize+this._cellOffset,this._scrollBar.value)):this._scrollBar.setScroll(0,0,0),this._scrollBar.target=this._content)})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)&&Math.floor(t)==t||"string"==typeof t?this.selectedIndex=parseInt(t):t instanceof Array?this.array=t:i.superSet(V,this,"dataSource",t)})),n(0,h,"cells",(function(){return this.runCallLater(this.changeCells),this._cells})),e}(V),st=(s(nt,"laya.ui.HScrollBar",G=j),nt.prototype.initialize=function(){G.prototype.initialize.call(this),this.slider.isVertical=!1},nt);function nt(){nt.__super.call(this)}var ht=function(t){function e(){this._content=null,this._vScrollBar=null,this._hScrollBar=null,this._scrollChanged=!1,e.__super.call(this),this.width=this.height=100}s(e,"laya.ui.Panel",t);var h=e.prototype;return h.destroy=function(t){void 0===t&&(t=!0),laya.ui.Component.prototype.destroy.call(this,t),this._content&&this._content.destroy(t),this._vScrollBar&&this._vScrollBar.destroy(t),this._hScrollBar&&this._hScrollBar.destroy(t),this._vScrollBar=null,this._hScrollBar=null,this._content=null},h.destroyChildren=function(){this._content.destroyChildren()},h.createChildren=function(){laya.display.Node.prototype.addChild.call(this,this._content=new V)},h.addChild=function(t){return t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChild(t)},h.onResize=function(){this._setScrollChanged()},h.addChildAt=function(t,i){return t.on("resize",this,this.onResize),this._setScrollChanged(),this._content.addChildAt(t,i)},h.removeChild=function(t){return t.off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChild(t)},h.removeChildAt=function(t){return this.getChildAt(t).off("resize",this,this.onResize),this._setScrollChanged(),this._content.removeChildAt(t)},h.removeChildren=function(t,i){return this._content.removeChildren(t=void 0===t?0:t,i=void 0===i?2147483647:i),this._setScrollChanged(),this},h.getChildAt=function(t){return this._content.getChildAt(t)},h.getChildByName=function(t){return this._content.getChildByName(t)},h.getChildIndex=function(t){return this._content.getChildIndex(t)},h.changeScroll=function(){this._scrollChanged=!1;var t=this.contentWidth||1,i=this.contentHeight||1,e=this._vScrollBar,s=this._hScrollBar,n=e&&i>this._height,h=s&&t>this._width,o=n?this._width-e.width:this._width,r=h?this._height-s.height:this._height;e&&(e.x=this._width-e.width,e.y=0,e.height=this._height-(h?s.height:0),e.scrollSize=Math.max(.033*this._height,1),e.thumbPercent=r/i,e.setScroll(0,i-r,e.value)),s&&(s.x=0,s.y=this._height-s.height,s.width=this._width-(n?e.width:0),s.scrollSize=Math.max(.033*this._width,1),s.thumbPercent=o/t,s.setScroll(0,t-o,s.value))},h.changeSize=function(){laya.ui.Component.prototype.changeSize.call(this),this.setContentSize(this._width,this._height)},h.setContentSize=function(t,i){var e=this._content;e.width=t,e.height=i,e.scrollRect||(e.scrollRect=new C),e.scrollRect.setTo(0,0,t,i),e.scrollRect=e.scrollRect},h.onScrollBarChange=function(t){var i,e=this._content.scrollRect;e&&(i=Math.round(t.value),t.isVertical?e.y=i:e.x=i,this._content.scrollRect=e)},h.scrollTo=function(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.vScrollBar&&(this.vScrollBar.value=i),this.hScrollBar&&(this.hScrollBar.value=t)},h.refresh=function(){this.changeScroll()},h.onScrollStart=function(){this._$P.cacheAs||(this._$P.cacheAs=i.superGet(V,this,"cacheAs")),i.superSet(V,this,"cacheAs","none"),this._hScrollBar&&this._hScrollBar.once("end",this,this.onScrollEnd),this._vScrollBar&&this._vScrollBar.once("end",this,this.onScrollEnd)},h.onScrollEnd=function(){i.superSet(V,this,"cacheAs",this._$P.cacheAs)},h._setScrollChanged=function(){this._scrollChanged||(this._scrollChanged=!0,this.callLater(this.changeScroll))},n(0,h,"numChildren",(function(){return this._content.numChildren})),n(0,h,"hScrollBarSkin",(function(){return this._hScrollBar?this._hScrollBar.skin:null}),(function(t){null==this._hScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new st),this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]),this._hScrollBar.target=this._content,this._setScrollChanged()),this._hScrollBar.skin=t})),n(0,h,"contentWidth",(function(){for(var t=0,i=this._content.numChildren-1;-1<i;i--){var e=this._content.getChildAt(i);t=Math.max(e.x+e.width*e.scaleX,t)}return t})),n(0,h,"contentHeight",(function(){for(var t=0,i=this._content.numChildren-1;-1<i;i--){var e=this._content.getChildAt(i);t=Math.max(e.y+e.height*e.scaleY,t)}return t})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(V,this,"width",t),this._setScrollChanged()})),n(0,h,"hScrollBar",(function(){return this._hScrollBar})),n(0,h,"content",(function(){return this._content})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(V,this,"height",t),this._setScrollChanged()})),n(0,h,"vScrollBarSkin",(function(){return this._vScrollBar?this._vScrollBar.skin:null}),(function(t){null==this._vScrollBar&&(laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new _t),this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]),this._vScrollBar.target=this._content,this._setScrollChanged()),this._vScrollBar.skin=t})),n(0,h,"vScrollBar",(function(){return this._vScrollBar})),n(0,h,"cacheAs",t.prototype._$get_cacheAs,(function(t){i.superSet(V,this,"cacheAs",t),this._$P.cacheAs=null,"none"!==t?(this._hScrollBar&&this._hScrollBar.on("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.on("start",this,this.onScrollStart)):(this._hScrollBar&&this._hScrollBar.off("start",this,this.onScrollStart),this._vScrollBar&&this._vScrollBar.off("start",this,this.onScrollStart))})),e}(V),ot=(s(rt,"laya.ui.HSlider",q),rt);function rt(t){rt.__super.call(this,t),this.isVertical=!1}var at=function(t){function e(t,i){this.selectHandler=null,this._items=null,this._selectedIndex=-1,this._skin=null,this._direction="horizontal",this._space=0,this._labels=null,this._labelColors=null,this._labelFont=null,this._labelStrokeColor=null,this._strokeColors=null,this._labelStroke=NaN,this._labelSize=0,this._labelBold=!1,this._labelPadding=null,this._labelAlign=null,this._stateNum=0,this._labelChanged=!1,e.__super.call(this),this.skin=i,this.labels=t}s(e,"laya.ui.UIGroup",t);var h=e.prototype;return i.imps(h,{"laya.ui.IItem":!0}),h.preinitialize=function(){this.mouseEnabled=!0},h.destroy=function(t){void 0===t&&(t=!0),laya.ui.Component.prototype.destroy.call(this,t),this._items&&(this._items.length=0),this._items=null,this.selectHandler=null},h.addItem=function(t,i){void 0===i&&(i=!0);var e=t,s=this._items.length;return e.name="item"+s,this.addChild(e),this.initItems(),i&&0<s?(t=this._items[s-1],"horizontal"==this._direction?e.x=t.x+t.width+this._space:e.y=t.y+t.height+this._space):i&&(e.x=0,e.y=0),s},h.delItem=function(t,i){void 0===i&&(i=!0);var e=this._items.indexOf(t);if(-1!=e){var s=t;this.removeChild(s);for(var n=e+1,h=this._items.length;n<h;n++){var o=this._items[n];o.name="item"+(n-1),i&&("horizontal"==this._direction?o.x-=s.width+this._space:o.y-=s.height+this._space)}this.initItems(),-1<this._selectedIndex&&(e=0,e=this._selectedIndex<this._items.length?this._selectedIndex:this._selectedIndex-1,this._selectedIndex=-1,this.selectedIndex=e)}},h.initItems=function(){this._items||(this._items=[]);for(var t=this._items.length=0;t<1e4;t++){var i=this.getChildByName("item"+t);if(null==i)break;this._items.push(i),i.selected=t===this._selectedIndex,i.clickHandler=f.create(this,this.itemClick,[t],!1)}},h.itemClick=function(t){this.selectedIndex=t},h.setSelect=function(t,i){this._items&&-1<t&&t<this._items.length&&(this._items[t].selected=i)},h.createItem=function(t,i){return null},h.changeLabels=function(){if(this._labelChanged=!1,this._items)for(var t=0,i=0,e=this._items.length;i<e;i++){var s=this._items[i];this._skin&&(s.skin=this._skin),this._labelColors&&(s.labelColors=this._labelColors),this._labelSize&&(s.labelSize=this._labelSize),this._labelStroke&&(s.labelStroke=this._labelStroke),this._labelStrokeColor&&(s.labelStrokeColor=this._labelStrokeColor),this._strokeColors&&(s.strokeColors=this._strokeColors),this._labelBold&&(s.labelBold=this._labelBold),this._labelPadding&&(s.labelPadding=this._labelPadding),this._labelAlign&&(s.labelAlign=this._labelAlign),this._stateNum&&(s.stateNum=this._stateNum),this._labelFont&&(s.labelFont=this._labelFont),"horizontal"===this._direction?(s.y=0,s.x=t,t+=s.width+this._space):(s.x=0,s.y=t,t+=s.height+this._space)}this.changeSize()},h.commitMeasure=function(){this.runCallLater(this.changeLabels)},h._setLabelChanged=function(){this._labelChanged||(this._labelChanged=!0,this.callLater(this.changeLabels))},n(0,h,"labelStrokeColor",(function(){return this._labelStrokeColor}),(function(t){this._labelStrokeColor!=t&&(this._labelStrokeColor=t,this._setLabelChanged())})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this._setLabelChanged())})),n(0,h,"selectedIndex",(function(){return this._selectedIndex}),(function(t){this._selectedIndex!=t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=t,this.setSelect(t,!0),this.event("change"),this.selectHandler&&this.selectHandler.runWith(this._selectedIndex))})),n(0,h,"labels",(function(){return this._labels}),(function(t){if(this._labels!=t){if(this._labels=t,this.removeChildren(),this._setLabelChanged(),this._labels)for(var i=this._labels.split(","),e=0,s=i.length;e<s;e++){var n=this.createItem(this._skin,i[e]);n.name="item"+e,this.addChild(n)}this.initItems()}})),n(0,h,"strokeColors",(function(){return this._strokeColors}),(function(t){this._strokeColors!=t&&(this._strokeColors=t,this._setLabelChanged())})),n(0,h,"labelColors",(function(){return this._labelColors}),(function(t){this._labelColors!=t&&(this._labelColors=t,this._setLabelChanged())})),n(0,h,"labelStroke",(function(){return this._labelStroke}),(function(t){this._labelStroke!=t&&(this._labelStroke=t,this._setLabelChanged())})),n(0,h,"labelSize",(function(){return this._labelSize}),(function(t){this._labelSize!=t&&(this._labelSize=t,this._setLabelChanged())})),n(0,h,"stateNum",(function(){return this._stateNum}),(function(t){this._stateNum!=t&&(this._stateNum=t,this._setLabelChanged())})),n(0,h,"labelBold",(function(){return this._labelBold}),(function(t){this._labelBold!=t&&(this._labelBold=t,this._setLabelChanged())})),n(0,h,"labelFont",(function(){return this._labelFont}),(function(t){this._labelFont!=t&&(this._labelFont=t,this._setLabelChanged())})),n(0,h,"labelPadding",(function(){return this._labelPadding}),(function(t){this._labelPadding!=t&&(this._labelPadding=t,this._setLabelChanged())})),n(0,h,"direction",(function(){return this._direction}),(function(t){this._direction=t,this._setLabelChanged()})),n(0,h,"space",(function(){return this._space}),(function(t){this._space=t,this._setLabelChanged()})),n(0,h,"items",(function(){return this._items})),n(0,h,"selection",(function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null}),(function(t){this.selectedIndex=this._items.indexOf(t)})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){"number"==typeof(this._dataSource=t)&&Math.floor(t)==t||"string"==typeof t?this.selectedIndex=parseInt(t):t instanceof Array?this.labels=t.join(","):i.superSet(V,this,"dataSource",t)})),e}(V),lt=function(t){function i(t,e){this._value=null,i.__super.call(this,t,e=void 0===e?"":e)}s(i,"laya.ui.Radio",t);var e=i.prototype;return e.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._value=null},e.preinitialize=function(){laya.ui.Component.prototype.preinitialize.call(this),this.toggle=!1,this._autoSize=!1},e.initialize=function(){t.prototype.initialize.call(this),this.createText(),this._text.align="left",this._text.valign="top",this._text.width=0,this.on("click",this,this.onClick)},e.onClick=function(t){this.selected=!0},n(0,e,"value",(function(){return null!=this._value?this._value:this.label}),(function(t){this._value=t})),i}(W),ct=function(t){function e(){this._list=null,this._source=null,this._renderHandler=null,this._spaceLeft=10,this._spaceBottom=0,this._keepStatus=!0,e.__super.call(this),this.width=this.height=200}s(e,"laya.ui.Tree",t);var h=e.prototype;return i.imps(h,{"laya.ui.IRender":!0}),h.destroy=function(t){void 0===t&&(t=!0),laya.ui.Component.prototype.destroy.call(this,t),this._list&&this._list.destroy(t),this._list=null,this._source=null,this._renderHandler=null},h.createChildren=function(){this.addChild(this._list=new et),this._list.renderHandler=f.create(this,this.renderItem,null,!1),this._list.repeatX=1,this._list.on("change",this,this.onListChange)},h.onListChange=function(t){this.event("change")},h.getArray=function(){var t,i,e=[];for(i in this._source)t=this._source[i],this.getParentOpenStatus(t)&&(t.x=this._spaceLeft*this.getDepth(t),e.push(t));return e},h.getDepth=function(t,i){return void 0===i&&(i=0),null==t.nodeParent?i:this.getDepth(t.nodeParent,i+1)},h.getParentOpenStatus=function(t){return null==(t=t.nodeParent)||!!t.isOpen&&(null==t.nodeParent||this.getParentOpenStatus(t))},h.renderItem=function(t,i){var e,s=t.dataSource;s&&(t.left=s.x,(e=t.getChildByName("arrow"))&&(s.hasChild?(e.visible=!0,e.index=s.isOpen?1:0,e.tag=i,e.off("click",this,this.onArrowClick),e.on("click",this,this.onArrowClick)):e.visible=!1),(e=t.getChildByName("folder"))&&(2==e.clipY?e.index=s.isDirectory?0:1:e.index=s.isDirectory?s.isOpen?1:0:2),this._renderHandler&&this._renderHandler.runWith([t,i]))},h.onArrowClick=function(t){t=t.currentTarget.tag,this._list.array[t].isOpen=!this._list.array[t].isOpen,this.event("open"),this._list.array=this.getArray()},h.setItemState=function(t,i){this._list.array[t]&&(this._list.array[t].isOpen=i,this._list.array=this.getArray())},h.fresh=function(){this._list.array=this.getArray(),this.repaint()},h.parseXml=function(t,i,e,s){var n=t.childNodes,h=n.length;if(!s){var o,r={},a=t.attributes;for(o in a){var l=(c=a[o]).nodeName,c=c.nodeValue;r[l]="true"==c||"false"!=c&&c}r.nodeParent=e,0<h&&(r.isDirectory=!0),r.hasChild=0<h,i.push(r)}for(var u=0;u<h;u++){var _=n[u];this.parseXml(_,i,r,!1)}},h.parseOpenStatus=function(t,i){for(var e=0,s=i.length;e<s;e++){var n=i[e];if(n.isDirectory)for(var h=0,o=t.length;h<o;h++){var r=t[h];if(r.isDirectory&&this.isSameParent(r,n)&&n.label==r.label){n.isOpen=r.isOpen;break}}}},h.isSameParent=function(t,i){return null==t.nodeParent&&null==i.nodeParent||null!=t.nodeParent&&null!=i.nodeParent&&t.nodeParent.label==i.nodeParent.label&&this.isSameParent(t.nodeParent,i.nodeParent)},h.filter=function(t){var i;Boolean(t)?(this.getFilterSource(this._source,i=[],t),this._list.array=i):this._list.array=this.getArray()},h.getFilterSource=function(t,i,e){var s,n;for(n in e=e.toLocaleLowerCase(),t)!(s=t[n]).isDirectory&&-1<String(s.label).toLowerCase().indexOf(e)&&(s.x=0,i.push(s)),s.child&&0<s.child.length&&this.getFilterSource(s.child,i,e)},n(0,h,"spaceBottom",(function(){return this._list.spaceY}),(function(t){this._list.spaceY=t})),n(0,h,"keepStatus",(function(){return this._keepStatus}),(function(t){this._keepStatus=t})),n(0,h,"itemRender",(function(){return this._list.itemRender}),(function(t){this._list.itemRender=t})),n(0,h,"array",(function(){return this._list.array}),(function(t){this._keepStatus&&this._list.array&&t&&this.parseOpenStatus(this._list.array,t),this._source=t,this._list.array=this.getArray()})),n(0,h,"mouseHandler",(function(){return this._list.mouseHandler}),(function(t){this._list.mouseHandler=t})),n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){this._dataSource=t,i.superSet(V,this,"dataSource",t)})),n(0,h,"source",(function(){return this._source})),n(0,h,"scrollBar",(function(){return this._list.scrollBar})),n(0,h,"list",(function(){return this._list})),n(0,h,"scrollBarSkin",(function(){return this._list.vScrollBarSkin}),(function(t){this._list.vScrollBarSkin=t})),n(0,h,"renderHandler",(function(){return this._renderHandler}),(function(t){this._renderHandler=t})),n(0,h,"selectedIndex",(function(){return this._list.selectedIndex}),(function(t){this._list.selectedIndex=t})),n(0,h,"spaceLeft",(function(){return this._spaceLeft}),(function(t){this._spaceLeft=t})),n(0,h,"selectedItem",(function(){return this._list.selectedItem}),(function(t){this._list.selectedItem=t})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(V,this,"width",t),this._list.width=t})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(V,this,"height",t),this._list.height=t})),n(0,h,"xml",null,(function(t){var i=[];this.parseXml(t.childNodes[0],i,null,!0),this.array=i})),n(0,h,"selectedPath",(function(){return this._list.selectedItem?this._list.selectedItem.path:null})),e}(V),ut=function(t){function e(){this._items=null,this._selectedIndex=0,e.__super.call(this),this._setIndexHandler=f.create(this,this.setIndex,null,!1)}s(e,"laya.ui.ViewStack",t);var h=e.prototype;return i.imps(h,{"laya.ui.IItem":!0}),h.setItems=function(t){this.removeChildren();for(var i=0,e=0,s=t.length;e<s;e++){var n=t[e];n&&(n.name="item"+i,this.addChild(n),i++)}this.initItems()},h.addItem=function(t){t.name="item"+this._items.length,this.addChild(t),this.initItems()},h.initItems=function(){this._items=[];for(var t=0;t<1e4;t++){var i=this.getChildByName("item"+t);if(null==i)break;this._items.push(i),i.visible=t==this._selectedIndex}},h.setSelect=function(t,i){this._items&&-1<t&&t<this._items.length&&(this._items[t].visible=i)},h.setIndex=function(t){this.selectedIndex=t},n(0,h,"dataSource",t.prototype._$get_dataSource,(function(t){if("number"==typeof(this._dataSource=t)&&Math.floor(t)==t||"string"==typeof t)this.selectedIndex=parseInt(t);else for(var i in this._dataSource)this.hasOwnProperty(i)&&(this[i]=this._dataSource[i])})),n(0,h,"selectedIndex",(function(){return this._selectedIndex}),(function(t){this._selectedIndex!=t&&(this.setSelect(this._selectedIndex,!1),this._selectedIndex=t,this.setSelect(this._selectedIndex,!0))})),n(0,h,"selection",(function(){return-1<this._selectedIndex&&this._selectedIndex<this._items.length?this._items[this._selectedIndex]:null}),(function(t){this.selectedIndex=this._items.indexOf(t)})),n(0,h,"items",(function(){return this._items})),n(0,h,"setIndexHandler",(function(){return this._setIndexHandler}),(function(t){this._setIndexHandler=t})),e}(V),_t=(s(dt,"laya.ui.VScrollBar",j),dt);function dt(){dt.__super.call(this)}var ft=function(t){function e(t){this._bg=null,this._skin=null,e.__super.call(this),this.text=t=void 0===t?"":t,this.skin=this.skin}s(e,"laya.ui.TextInput",t);var h=e.prototype;return h.preinitialize=function(){this.mouseEnabled=!0},h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._bg&&this._bg.destroy(),this._bg=null},h.createChildren=function(){this.addChild(this._tf=new p),this._tf.padding=z.inputLabelPadding,this._tf.on("input",this,this._onInput),this._tf.on("enter",this,this._onEnter),this._tf.on("blur",this,this._onBlur),this._tf.on("focus",this,this._onFocus)},h._onFocus=function(){this.event("focus",this)},h._onBlur=function(){this.event("blur",this)},h._onInput=function(){this.event("input",this)},h._onEnter=function(){this.event("enter",this)},h.initialize=function(){this.width=128,this.height=22},h.select=function(){this._tf.select()},h.setSelection=function(t,i){this._tf.setSelection(t,i)},n(0,h,"text",t.prototype._$get_text,(function(t){this._tf.text!=t&&(this._tf.text=t+="",this.event("change"))})),n(0,h,"bg",(function(){return this._bg}),(function(t){this.graphics=this._bg=t})),n(0,h,"inputElementYAdjuster",(function(){return this._tf.inputElementYAdjuster}),(function(t){this._tf.inputElementYAdjuster=t})),n(0,h,"multiline",(function(){return this._tf.multiline}),(function(t){this._tf.multiline=t})),n(0,h,"skin",(function(){return this._skin}),(function(t){this._skin!=t&&(this._skin=t,this._bg||(this.graphics=this._bg=new N),this._bg.source=m.getRes(this._skin),this._width&&(this._bg.width=this._width),this._height&&(this._bg.height=this._height))})),n(0,h,"sizeGrid",(function(){return this._bg&&this._bg.sizeGrid?this._bg.sizeGrid.join(","):null}),(function(t){this._bg||(this.graphics=this._bg=new N),this._bg.sizeGrid=H.fillArray(z.defaultSizeGrid,t,Number)})),n(0,h,"inputElementXAdjuster",(function(){return this._tf.inputElementXAdjuster}),(function(t){this._tf.inputElementXAdjuster=t})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(J,this,"width",t),this._bg&&(this._bg.width=t)})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(J,this,"height",t),this._bg&&(this._bg.height=t)})),n(0,h,"editable",(function(){return this._tf.editable}),(function(t){this._tf.editable=t})),n(0,h,"restrict",(function(){return this._tf.restrict}),(function(t){this._tf.restrict=t})),n(0,h,"prompt",(function(){return this._tf.prompt}),(function(t){this._tf.prompt=t})),n(0,h,"promptColor",(function(){return this._tf.promptColor}),(function(t){this._tf.promptColor=t})),n(0,h,"maxChars",(function(){return this._tf.maxChars}),(function(t){this._tf.maxChars=t})),n(0,h,"focus",(function(){return this._tf.focus}),(function(t){this._tf.focus=t})),n(0,h,"type",(function(){return this._tf.type}),(function(t){this._tf.type=t})),n(0,h,"asPassword",(function(){return this._tf.asPassword}),(function(t){this._tf.asPassword=t})),e}(J),gt=(s(pt,"laya.ui.VSlider",q),pt);function pt(){pt.__super.call(this)}var mt=function(t){function e(){this.popupCenter=!0,this.closeHandler=null,this.popupEffect=null,this.closeEffect=null,this.group=null,this.isModal=!1,this._dragArea=null,e.__super.call(this)}s(e,"laya.ui.Dialog",t);var h=e.prototype;return h.initialize=function(){this.popupEffect=e.manager.popupEffectHandler,this.closeEffect=e.manager.closeEffectHandler,this._dealDragArea(),this.on("click",this,this._onClick)},h._dealDragArea=function(){var t=this.getChildByName("drag");t&&(this.dragArea=t.x+","+t.y+","+t.width+","+t.height,t.removeSelf())},h._onClick=function(t){var i=t.target;if(i)switch(i.name){case"close":case"cancel":case"sure":case"no":case"ok":case"yes":this.close(i.name)}},h.show=function(t,i){this._open(!1,t=void 0!==t&&t,i=void 0===i||i)},h.popup=function(t,i){this._open(!0,t=void 0!==t&&t,i=void 0===i||i)},h._open=function(t,i,s){e.manager.lock(!1),this.isModal=t,e.manager.open(this,i,s)},h.onOpened=function(){},h.close=function(t,i){e.manager.close(this,t,i=void 0===i||i)},h.onClosed=function(t){},h._onMouseDown=function(t){var i=this.getMousePoint();this._dragArea.contains(i.x,i.y)?this.startDrag():this.stopDrag()},n(0,h,"dragArea",(function(){return this._dragArea?this._dragArea.toString():null}),(function(t){t?(t=H.fillArray([0,0,0,0],t,Number),this._dragArea=new C(t[0],t[1],t[2],t[3]),this.on("mousedown",this,this._onMouseDown)):(this._dragArea=null,this.off("mousedown",this,this._onMouseDown))})),n(0,h,"isPopup",(function(){return null!=this.parent})),n(0,h,"zOrder",t.prototype._$get_zOrder,(function(t){i.superSet(Z,this,"zOrder",t),e.manager._checkMask()})),n(1,e,"manager",(function(){return e._manager=e._manager||new E}),(function(t){e._manager=t})),e.setLockView=function(t){e.manager.setLockView(t)},e.lock=function(t){e.manager.lock(t)},e.closeAll=function(){e.manager.closeAll()},e.getDialogsByGroup=function(t){return e.manager.getDialogsByGroup(t)},e.closeByGroup=function(t){return e.manager.closeByGroup(t)},e.CLOSE="close",e.CANCEL="cancel",e.SURE="sure",e.NO="no",e.OK="ok",e.YES="yes",e._manager=null,e}(Z),yt=function(t){function e(){e.__super.call(this)}s(e,"laya.ui.HBox",t);var h=e.prototype;return h.sortItem=function(t){t&&t.sort((function(t,i){return t.x-i.x}))},h.changeItems=function(){this._itemChanged=!1;for(var t=[],i=0,e=0,s=this.numChildren;e<s;e++){var n=this.getChildAt(e);n&&n.layoutEnabled&&(t.push(n),i=this._height||Math.max(i,n.height*n.scaleY))}this.sortItem(t);var h=0;for(e=0,s=t.length;e<s;e++)(n=t[e]).x=h,h+=n.width*n.scaleX+this._space,"top"==this._align?n.y=0:"middle"==this._align?n.y=.5*(i-n.height*n.scaleY):"bottom"==this._align&&(n.y=i-n.height*n.scaleY);this.changeSize()},n(0,h,"height",t.prototype._$get_height,(function(t){this._height!=t&&(i.superSet(tt,this,"height",t),this.callLater(this.changeItems))})),e.NONE="none",e.TOP="top",e.MIDDLE="middle",e.BOTTOM="bottom",e}(tt),vt=(d=function(){var n,h;function r(t){this.gameStopHD=!1,this.iconImgTl=null,this._iconImage=null,this._moreBox=null,this._gameBox=null,this.screenType=0,this._moreGameDataUrl="https://abc.layabox.com/public/more/gamelist2.json",this._iconImageObj=null,this.clickCallBack=null,this.closeCallBack=null,this.isShow=!1,this.dinfo=null,this.ErrorUrlHttps="https://elastic.layabox.com/",this.tongjiType="bdm",void 0===t&&(t=0),r.__super.call(this),this.screenType=t,this.init()}s(r,"laya.ui.MoreGame",Z);var a=r.prototype;return a.getLocalDateString=function(t){t=this.getDateByTimestamp(t=void 0===t?0:t).toLocaleDateString(),(o.onLimixiu||o.onMiniGame)&&(i=new Date,t=r.toLocaleDateString(i.getTime()));var i=new RegExp("/","g");return t.replace(i,"-")},a.getDateByTimestamp=function(t){return(t=void 0===t?0:t)&&""!=t?new Date(t):new Date},a.reportError=function(i,e,s){void 0===e&&(e=""),s=s||{};var n=Date.now();n=new Date(n+0),s.date=n.toLocaleString(),"error"!=(s.etype=i)&&"statistics"!=i&&(i="statistics"),s.version="V0.0.1",s.gameId=10100,s.dinfo=this.dinfo,s.channel=-1e3,s.msg=e,s["@timestamp"]=n.toISOString(),s.user=this.getUserId(),s.openid=this.getOpenId(),e=r.getDay(n),s.rdate=e,s.day=n.getDate()+"",s.hour=n.getHours()+"",s.minute=n.getMinutes()+"",s.gameurl=t.baseURI,s.regTime=0,"error"==i?this.sendLog(s,this.tongjiType+"error-"+e.substring(0,6)+"/"+i+"/",i):this.sendLog(s,this.tongjiType+"-"+e.substring(0,6)+"/"+i+"/",i)},a.getUserId=function(){var t=parseInt(y.getItem("layauserid")+"")||-1;return-1==t&&(t=this.randRange(0,1e9),y.setItem("layauserid",t+"")),t},a.getOpenId=function(){if(null==(t=y.getItem("openid"))||""==t){for(var t="",i=0;i<32;i++){var e=this.randRange(0,62);t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(e)}y.setItem("openid",t)}return t},a.sendLog=function(t,i,e){var s=this,n=new g;n.on("error",this,(function(t,i,e){e&&-1!=e.indexOf("[404]")&&(new g).send(s.ErrorUrlHttps+"garbage/"+i+"/",JSON.stringify(t),"post","text",["Content-Type","application/json"])}),[t,e]),o.onBDMiniGame&&(t.gameurl=""),n.send(this.ErrorUrlHttps+i,JSON.stringify(t),"post","text",["Content-Type","application/json"])},a.initEvent=function(){this.on("click",this,this.onIconClick)},a.onStageResize=function(){var t=Math.min(i.stage.width/i.stage.designWidth,i.stage.height/i.stage.designHeight);i.stage.width<720&&(t=.9),this._moreBox&&this._moreBox.scale(t,t),this._gameBox&&this._gameBox.scale(t,t)},a.tada=function(t,i,e,s){void 0===e&&(e=1.1),void 0===s&&(s=1);var n=new B;return n.reset(),n.to(t,{scaleX:e,scaleY:e,rotation:3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:-3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:-3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:-3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:-3},.1*i).to(t,{scaleX:e,scaleY:e,rotation:3},.1*i).to(t,{scaleX:s,scaleY:s,rotation:0},.1*i),n.play(0),n},a.dispose=function(){this.removeEvent(),this.gameStopHD=!0,r._moreGameData=null,this._iconImageObj=null,this.clickCallBack=null,this.closeCallBack=null,this.iconImgTl&&(this.iconImgTl.offAll("complete"),this.iconImgTl=null),this._moreBox&&(this._moreBox.removeChildren(),this._moreBox=null),this._gameBox&&(this._gameBox.removeChildren(),this._gameBox=null),this._iconImage&&(this._iconImage.removeSelf(),this._iconImage=null)},a.onSetIconType=function(t){this.gameStopHD=!t,this.visible=t},a.checkIconImgHD=function(){this.iconImgTl?this.iconImgTl.play(0):this.iconImgTl=this.tada(this._iconImage,1200,1.1,.9),this.iconImgTl.on("complete",this,this.onTlComplete)},a.onTlComplete=function(){if(this.parent){if(this._iconImage.scale(.9,.9),this._iconImage.rotation=0,this.gameStopHD&&this.iconImgTl)return this.iconImgTl.offAll("complete"),void(this.iconImgTl=null);i.timer.once(1e3,this,this.onYanChiPlay)}else this.iconImgTl&&(this.iconImgTl.offAll(),this.iconImgTl=null)},a.onYanChiPlay=function(){this.parent&&this.iconImgTl?this.iconImgTl.play(0):this.iconImgTl&&(this.iconImgTl.offAll("complete"),this.iconImgTl=null)},a.removeEvent=function(){this.off("click",this,this.onIconClick)},a.onIconClick=function(){this.isShow=!0,null!=this.clickCallBack&&this.clickCallBack.run();var t=y.getItem("currentTime"),i=this.getLocalDateString();t!=i?(y.setItem("currentTime",i),this.reportError(r._moreGameData.statid1)):this.reportError(r._moreGameData.statid2),this.onResLoaded()},a.onResLoaded=function(){if(this._moreBox)this._moreBox.visible=!0;else{this._moreBox=new V,i.stage.addChild(this._moreBox),this._moreBox.zOrder=99999,this._moreBox.left=this._moreBox.right=this._moreBox.top=this._moreBox.bottom=0;var t=this.onCreateImage(r.onGetAtlasDanImgUrl("img_white_bg"),this._moreBox);t.top=t.left=t.right=t.bottom=0,t.sizeGrid="1,1,1,1,1",(t=this.onCreateImage(r.onGetAtlasDanImgUrl("hengfengexian"),this._moreBox)).left=t.right=0,t.y=132,t.alpha=.2,(t=this.onCreateImage(r.onGetAtlasDanImgUrl("img_font_jingcai"),this._moreBox)).on("click",this,this.onJiantouImgClick),this.isQMP()&&this.screenType?t.pos(15,70):t.pos(15,45),t=new et,this._moreBox.addChild(t),t.itemRender=n,t.selectEnable=!0,t.vScrollBarSkin="",t.scrollBar.autoHide=!0,t.scrollBar.elasticDistance=250,t.renderHandler=new f(this,this.onGameListRender);var e=r._moreGameData.marvellousGame.gameList,s=[];s.push(e[0]),s.push(e[1]);var h=this.RandomNumBoth(s.length,e.length-s.length,e.length);if(h){try{for(var o=0,a=h.length;o<a;o++){var l=h[o];s.push(e[l])}r._moreGameData.marvellousGame.gameList=[],r._moreGameData.marvellousGame.gameList=s,t.array=r._moreGameData.marvellousGame.gameList}catch(e){t.array=r._moreGameData.marvellousGame.gameList}this.screenType&&(t.spaceY=10,t.width=690,this.isQMP()?t.height=i.stage.height+130:t.height=1139,t.y=139,t.centerX=0),this.onStageResize()}else this.visible=!1}},a.RandomNumBoth=function(t,i,e){for(var s=[],n=t;n<e;n++)s.push(n);var h=[],o=s.length;for(n=0;n<o;n++){s.length;var r=Math.floor(Math.random()*s.length);if(h.push(s[r]),s.splice(r,1),s.length<=o-i)return h}return null},a.isQMP=function(){var t=!1,e=0;e="horizontal"==i.stage.screenMode?o.height%9:o.width%9,o.onAndroid&&0==e&&(s=0,s="horizontal"==i.stage.screenMode?o.width:o.height,-1!=[2280,2160,2244,3120,2248,2340,2310].indexOf(s)&&(t=!0)),e=/iPhone/gi.test(o.window.navigator.userAgent)&&375==Math.min(o.clientHeight,o.clientWidth)&&812==Math.max(o.clientHeight,o.clientWidth);var s=414==Math.min(o.clientHeight,o.clientWidth)&&896==Math.max(o.clientHeight,o.clientWidth);return!(!o.onMiniGame&&!o.onBDMiniGame||o.onAndroid||!e&&!s)||t},a.onDrawShapes=function(t,i,e,s){var n=e=void 0===e?5:e;return(s=void 0!==s&&s)&&(n=0),(s=new S).graphics.drawPath(0,0,[["moveTo",e,0],["lineTo",105,0],["arcTo",t,0,t,e,e],["lineTo",t,i],["arcTo",t,i+e,105,i+e,n],["lineTo",e,i+e],["arcTo",0,i+e,0,i,n],["lineTo",0,e],["arcTo",0,0,e,0,e],["closePath"]],{fillStyle:"#ff0000"}),s},a.onCreateMaskImg=function(t,i){var e=this.onCreateImage(r.onGetAtlasDanImgUrl("dayuan"),i);return(i=this.onCreateImage(t,e)).pos(11,10),(t=new S).graphics.drawCircle(71,74,68,"#ff0000"),i.mask=t,e.scale(.7,.7),e},a.onGameListRender=function(t,i){var e=r._moreGameData.marvellousGame.gameList;i<0||i>e.length-1||(i=e[i],t.init(i,this.screenType,new f(this,this.onItemClickCallBack)))},a.onItemClickCallBack=function(t){var i,e,s,n=this;swan.navigateToMiniProgram&&(i=t.appKey,e=t.path,s=t.extendInfo,swan.navigateToMiniProgram({appKey:i,path:e,extraData:s,success:function(t){},fail:function(t){},complete:function(i){n.reportError(t.statid)}.bind(this)}))},a.onJiantouImgClick=function(t){this.isShow=!1,this._moreBox&&(this._moreBox.visible=!1),null!=this.closeCallBack&&this.closeCallBack.run()},a.onCreateLabel=function(t,i,e,s,n,h,o){void 0===e&&(e=24),void 0===s&&(s="#000000"),void 0===n&&(n=!1),void 0===h&&(h="center"),void 0===o&&(o=10);var r=new J;return r.text=t,r.font="Microsoft YaHei",r.fontSize=e,r.color=s,r.bold=!0,r.leading=o,r.valign="middle",r.align=h,r.wordWrap=n,i.addChild(r),r},a.onCreateImage=function(t,i){var e=new R;return e.skin=t,i.addChild(e),e},a.init=function(){var t=-1<o.window.navigator.userAgent.indexOf("SwanGame");this.visible=!1,t&&(this.dinfo=JSON.stringify(laya.bd.mini.BMiniAdapter.systemInfo),this.onGetAdvsListData())},a.randRange=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},a.onGetAdvsListData=function(){var t=this,i=this.randRange(1e4,1e6);i=this._moreGameDataUrl+"?"+i,r._http.open("get",i,!0),r._http.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r._http.responseType="text",r._http.onerror=function(i){t._onError(i)},r._http.onload=function(i){t._onLoad(i)},r._http.send(null)},a._onError=function(t){this.error("Request failed Status:"+r._http.status+" text:"+r._http.statusText)},a._onLoad=function(t){var i=r._http,e=void 0!==i.status?i.status:200;200===e||204===e||0===e?this.complete():this.error("["+i.status+"]"+i.statusText+":"+i.responseURL)},a.error=function(t){this.event("error",t)},a.complete=function(){try{var t=r._http.response||r._http.responseText;r._moreGameData=JSON.parse(t),this.initUI()}catch(t){this.error(t.message)}},a.initUI=function(){r._moreGameData.isOpen&&this.screenType?(this._iconImage||(this._iconImage=new R,this.addChild(this._iconImage)),this._iconImage.skin=r.onGetImgSkinUrl(r._moreGameData.icon),this._iconImageObj&&(this._iconImage.size(this._iconImageObj.width,this._iconImageObj.height),this._iconImage.pivot(this._iconImageObj.width/2,this._iconImageObj.height/2),this._iconImage.pos(this._iconImageObj.width/2,this._iconImageObj.height/2)),this.visible=!0,this.initEvent(),this.gameStopHD=!1,this.checkIconImgHD()):this.visible=!1},a.setIconSize=function(t,i){this._iconImage&&(this._iconImage.size(t,i),this._iconImage.pivot(t/2,i/2),this._iconImage.pos(t/2,i/2)),this._iconImageObj={width:t,height:i}},r.toLocaleDateString=function(t){return r.getDateFormatStr(t,"/")},r.getDateFormatStr=function(t,i){void 0===i&&(i="yynndd");var e=(o=new Date(t)).getFullYear(),s=o.getMonth()+1,n=o.getDate(),h=o.getHours(),o=(t=o.getMinutes(),o.getSeconds());switch(i){case"yynndd":return e.toString()+""+s.toString()+""+n.toString()+"";case"/":return e.toString()+"/"+s.toString()+"/"+n.toString()}return e.toString()+""+s.toString()+""+n.toString()+""+h.toString()+""+t.toString()+""+o.toString()+""},r.getDay=function(t){var i=t.getMonth()+1,e=t.getDate();return t.getFullYear()+""+(i<10?"0"+i:i)+(e<10?"0"+e:e)},r.onGetAtlasDanImgUrl=function(t){return r._moreGameData.imgPath+r._moreGameData.atlas+t+".png"},r.onGetImgSkinUrl=function(t){return r._moreGameData.imgPath+t},r.onGetIconImgSkinUrl=function(t){return r._moreGameData.iconPath+t},r._moreGameData=null,e(r,["_http",function(){return this._http=new o.window.XMLHttpRequest}]),r.__init$=function(){n=function(){function t(){this.titleLabel=null,this.gameListBox=null,t.__super.call(this)}s(t,"",V);var i=t.prototype;return i.init=function(t,i,e){if(this.titleLabel?this.titleLabel.text=t.title:(this.titleLabel=this.onCreateLabel(t.title,this,32,"#3d3939"),this.titleLabel.pos(8,0),this.titleLabel.size(162,50)),this.gameListBox)for(s=0,n=this.gameListBox._childs.length;s<n;s++)(o=this.gameListBox._childs[s]).init(t.gameList[s],i,e);else{this.gameListBox=new V,this.addChild(this.gameListBox);for(var s=0,n=t.gameList.length;s<n;s++){var o=new h;o.init(t.gameList[s],i,e),o.x=0+175*s,o.y=65,this.gameListBox.addChild(o)}}this.size(695,340),this.cacheAs="bitmap"},i.onCreateLabel=function(t,i,e,s,n){void 0===e&&(e=26),void 0===s&&(s="#000000"),void 0===n&&(n=!0);var h=new J;return h.text=t,h.font="Microsoft YaHei",h.fontSize=e,h.color=s,h.bold=n,h.leading=10,h.valign="middle",h.align="center",h.overflow="hidden",i.addChild(h),h},t}(),h=function(){function t(){this.kuangImg=null,this.iconNameLabel=null,this.iconImg=null,this.playImg=null,this.itemData=null,this.callBackHandler=null,t.__super.call(this)}s(t,"",V);var i=t.prototype;return i.MoveGameItem=function(){},i.initEvent=function(){this.on("click",this,this.onItemClick)},i.onItemClick=function(){null!=this.callBackHandler&&this.callBackHandler.runWith([this.itemData])},i.init=function(t,i,e){this.itemData=t,this.callBackHandler=e,this.kuangImg?this.kuangImg.skin=r.onGetAtlasDanImgUrl("dayuan"):this.kuangImg=this.onCreateImage(r.onGetAtlasDanImgUrl("dayuan"),this),this.iconImg?this.iconImg.skin=r.onGetIconImgSkinUrl(t.icon):(this.iconImg=this.onCreateImage(r.onGetIconImgSkinUrl(t.icon),this),(e=new S).graphics.drawCircle(71,74,68,"#ff0000"),this.iconImg.mask=e,this.iconImg.pos(13,10)),this.iconNameLabel?this.iconNameLabel.text=t.name:(this.iconNameLabel=this.onCreateLabel(t.name,this,28,"#3d3939"),this.iconNameLabel.pos(7,165)),this.playImg?this.playImg.skin=r.onGetAtlasDanImgUrl("img_play"):(this.playImg=this.onCreateImage(r.onGetAtlasDanImgUrl("img_play"),this),this.playImg.pos(12,210)),this.size(165,270),this.initEvent()},i.onCreateLabel=function(t,i,e,s,n){void 0===e&&(e=24),void 0===s&&(s="#000000"),void 0===n&&(n=!1);var h=new J;return h.text=t,h.font="Microsoft YaHei",h.fontSize=e,h.color=s,h.bold=n,h.leading=10,h.valign="middle",h.align="center",h.size(152,44),h.overflow="hidden",i.addChild(h),h},i.onCreateImage=function(t,i){var e=new R;return e.skin=t,i.addChild(e),e},t}()},r}(),function(t){function e(){e.__super.call(this)}s(e,"laya.ui.VBox",t);var h=e.prototype;return h.changeItems=function(){this._itemChanged=!1;for(var t=[],i=0,e=0,s=this.numChildren;e<s;e++){var n=this.getChildAt(e);n&&n.layoutEnabled&&(t.push(n),i=this._width||Math.max(i,n.width*n.scaleX))}this.sortItem(t);var h=0;for(e=0,s=t.length;e<s;e++)(n=t[e]).y=h,h+=n.height*n.scaleY+this._space,"left"==this._align?n.x=0:"center"==this._align?n.x=.5*(i-n.width*n.scaleX):"right"==this._align&&(n.x=i-n.width*n.scaleX);this.changeSize()},n(0,h,"width",t.prototype._$get_width,(function(t){this._width!=t&&(i.superSet(tt,this,"width",t),this.callLater(this.changeItems))})),e.NONE="none",e.LEFT="left",e.CENTER="center",e.RIGHT="right",e}(tt)),Ct=(s(bt,"laya.ui.RadioGroup",at),bt.prototype.createItem=function(t,i){return new lt(t,i)},bt);function bt(){bt.__super.call(this)}var St=(s(xt,"laya.ui.Tab",at),xt.prototype.createItem=function(t,i){return new W(t,i)},xt);function xt(){xt.__super.call(this)}var wt=function(t){function e(t){this._vScrollBar=null,this._hScrollBar=null,e.__super.call(this,t=void 0===t?"":t)}s(e,"laya.ui.TextArea",t);var h=e.prototype;return h.destroy=function(i){t.prototype.destroy.call(this,i=void 0===i||i),this._vScrollBar&&this._vScrollBar.destroy(),this._hScrollBar&&this._hScrollBar.destroy(),this._vScrollBar=null,this._hScrollBar=null},h.initialize=function(){this.width=180,this.height=150,this._tf.wordWrap=!0,this.multiline=!0},h.onVBarChanged=function(t){this._tf.scrollY!=this._vScrollBar.value&&(this._tf.scrollY=this._vScrollBar.value)},h.onHBarChanged=function(t){this._tf.scrollX!=this._hScrollBar.value&&(this._tf.scrollX=this._hScrollBar.value)},h.changeScroll=function(){var t=this._vScrollBar&&0<this._tf.maxScrollY,i=this._hScrollBar&&0<this._tf.maxScrollX,e=t?this._width-this._vScrollBar.width:this._width,s=i?this._height-this._hScrollBar.height:this._height,n=this._tf.padding||z.labelPadding;this._tf.width=e,this._tf.height=s,this._vScrollBar&&(this._vScrollBar.x=this._width-this._vScrollBar.width-n[2],this._vScrollBar.y=n[1],this._vScrollBar.height=this._height-(i?this._hScrollBar.height:0)-n[1]-n[3],this._vScrollBar.scrollSize=1,this._vScrollBar.thumbPercent=s/Math.max(this._tf.textHeight,s),this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY),this._vScrollBar.visible=t),this._hScrollBar&&(this._hScrollBar.x=n[0],this._hScrollBar.y=this._height-this._hScrollBar.height-n[3],this._hScrollBar.width=this._width-(t?this._vScrollBar.width:0)-n[0]-n[2],this._hScrollBar.scrollSize=Math.max(.033*e,1),this._hScrollBar.thumbPercent=e/Math.max(this._tf.textWidth,e),this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX),this._hScrollBar.visible=i)},h.scrollTo=function(t){this.commitMeasure(),this._tf.scrollY=t},n(0,h,"scrollY",(function(){return this._tf.scrollY})),n(0,h,"width",t.prototype._$get_width,(function(t){i.superSet(ft,this,"width",t),this.callLater(this.changeScroll)})),n(0,h,"hScrollBar",(function(){return this._hScrollBar})),n(0,h,"height",t.prototype._$get_height,(function(t){i.superSet(ft,this,"height",t),this.callLater(this.changeScroll)})),n(0,h,"maxScrollX",(function(){return this._tf.maxScrollX})),n(0,h,"vScrollBarSkin",(function(){return this._vScrollBar?this._vScrollBar.skin:null}),(function(t){null==this._vScrollBar&&(this.addChild(this._vScrollBar=new _t),this._vScrollBar.on("change",this,this.onVBarChanged),this._vScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._vScrollBar.skin=t})),n(0,h,"hScrollBarSkin",(function(){return this._hScrollBar?this._hScrollBar.skin:null}),(function(t){null==this._hScrollBar&&(this.addChild(this._hScrollBar=new st),this._hScrollBar.on("change",this,this.onHBarChanged),this._hScrollBar.mouseWheelEnable=!1,this._hScrollBar.target=this._tf,this.callLater(this.changeScroll)),this._hScrollBar.skin=t})),n(0,h,"vScrollBar",(function(){return this._vScrollBar})),n(0,h,"maxScrollY",(function(){return this._tf.maxScrollY})),n(0,h,"scrollX",(function(){return this._tf.scrollX})),e}(ft);!function(){function t(){this._uiView=null,this.isCloseOther=!1,t.__super.call(this)}s(t,"laya.ui.AsynDialog",mt);var i=t.prototype;i.createView=function(t){this._uiView=t},i._open=function(t,i,e){this.isModal=t,this.isCloseOther=i,mt.manager.lock(!0),this._uiView?this.onCreated():this.onOpen()},i.onCreated=function(){this.createUI(),this.onOpen()},i.createUI=function(){laya.ui.View.prototype.createView.call(this,this._uiView),this._uiView=null,this._dealDragArea()},i.onOpen=function(){mt.manager.open(this,this.isCloseOther),mt.manager.lock(!1)},i.close=function(t,i){void 0===i&&(i=!0),mt.manager.close(this),this.onClose()},i.onClose=function(){},i.destroy=function(t){void 0===t&&(t=!0),laya.ui.View.prototype.destroy.call(this,t),this._uiView=null,this.onDestroy()},i.onDestroy=function(){}}(),i.__init([Z,d])}((window,document),Laya),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],(function(t,i){"use strict";for(var e in Object.defineProperty(i,"__esModule",{value:!0}),Laya){var s=Laya[e];s&&s.__isclass&&(i[e]=s)}}));