!function(t){t.un,t.uns,t.static;var e=t.class,i=t.getset,a=(t.__newvec,laya.utils.Browser,laya.utils.Color),r=laya.filters.ColorFilterAction,n=laya.filters.webgl.ColorFilterActionGL,s=laya.filters.Filter,l=laya.filters.webgl.FilterActionGL,o=laya.maths.Matrix,u=(laya.maths.Rectangle,laya.renders.Render),c=(laya.renders.RenderContext,laya.webgl.resource.RenderTarget2D),h=laya.utils.RunDriver,_=(laya.webgl.shader.d2.ShaderDefines2D,laya.display.Sprite,laya.resource.Texture,laya.webgl.shader.d2.value.Value2D),d=function(){function i(){this.data=null}e(i,"laya.filters.FilterAction");var a=i.prototype;return t.imps(a,{"laya.filters.IFilterAction":!0}),a.apply=function(t){return null},i}(),f=(e(g,"laya.filters.WebGLFilter"),g.enable=function(){g.isInit||(g.isInit=!0,u.isWebGL&&(h.createFilterAction=function(t){var e;switch(t){case 32:e=new n;break;case 16:e=new y;break;case 8:e=new p}return e}))},g.isInit=!1,g.__init$=function(){h.createFilterAction=function(t){var e;switch(t){case 16:case 8:e=new d;break;case 32:e=new r}return e}},g);function g(){}(function(){function t(e){this.strength=NaN,this.strength_sig2_2sig2_gauss1=[],t.__super.call(this),void 0===e&&(e=4),u.isWebGL&&f.enable(),this.strength=e,this._action=h.createFilterAction(16),this._action.data=this}e(t,"laya.filters.BlurFilter",s);var a=t.prototype;a.callNative=function(t){t.conchModel&&t.conchModel.blurFilter&&t.conchModel.blurFilter(this.strength)},i(0,a,"action",(function(){return this._action})),i(0,a,"type",(function(){return 16}))})(),function(){function t(e,i,r,n){this._color=null,t.__super.call(this),this._elements=new Float32Array(9),void 0===i&&(i=4),void 0===r&&(r=6),void 0===n&&(n=6),u.isWebGL&&f.enable(),this._color=new a(e),this.blur=Math.min(i,20),this.offX=r,this.offY=n,this._action=h.createFilterAction(8),this._action.data=this}e(t,"laya.filters.GlowFilter",s);var r=t.prototype;r.getColor=function(){return this._color._color},r.callNative=function(t){t.conchModel&&t.conchModel.glowFilter&&t.conchModel.glowFilter(this._color.strColor,this._elements[4],this._elements[5],this._elements[6])},i(0,r,"type",(function(){return 8})),i(0,r,"action",(function(){return this._action})),i(0,r,"offY",(function(){return this._elements[6]}),(function(t){this._elements[6]=t})),i(0,r,"offX",(function(){return this._elements[5]}),(function(t){this._elements[5]=t})),i(0,r,"blur",(function(){return this._elements[4]}),(function(t){this._elements[4]=t}))}();var y=function(){function t(){this.data=null,t.__super.call(this)}e(t,"laya.filters.webgl.BlurFilterActionGL",l);var a=t.prototype;return a.setValueMix=function(t){t.defines.add(this.data.type)},a.apply3d=function(t,e,i,a,r){var n=t.getValue("bounds"),s=_.create(1,0);s.setFilters([this.data]),o.EMPTY.identity(),i.ctx.drawTarget(t,0,0,n.width,n.height,o.EMPTY,"src",s),s.setFilters(null)},a.setValue=function(t){t.strength=this.data.strength;var e=(e=this.data.strength/3)*e;this.data.strength_sig2_2sig2_gauss1[0]=this.data.strength,this.data.strength_sig2_2sig2_gauss1[1]=e,this.data.strength_sig2_2sig2_gauss1[2]=2*e,this.data.strength_sig2_2sig2_gauss1[3]=1/(2*Math.PI*e),t.strength_sig2_2sig2_gauss1=this.data.strength_sig2_2sig2_gauss1},i(0,a,"typeMix",(function(){return 16})),t}(),p=function(){function a(){this.data=null,this._initKey=!1,this._textureWidth=0,this._textureHeight=0,a.__super.call(this)}e(a,"laya.filters.webgl.GlowFilterActionGL",l);var r=a.prototype;return t.imps(r,{"laya.filters.IFilterActionGL":!0}),r.setValueMix=function(t){},r.apply3d=function(t,e,i,a,r){var n=t.getValue("bounds");t.addValue("color",this.data.getColor());var s=n.width;return n=n.height,this._textureWidth=s,this._textureHeight=n,(s=o.TEMP).identity(),(n=_.create(1,0)).setFilters([this.data]),i.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,s,"src",n,null),n=_.create(1,0),i.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,s,"src",n),null},r.setSpriteWH=function(t){this._textureWidth=t.width,this._textureHeight=t.height},r.setValue=function(t){t.u_offsetX=this.data.offX,t.u_offsetY=-this.data.offY,t.u_strength=1,t.u_blurX=this.data.blur,t.u_blurY=this.data.blur,t.u_textW=this._textureWidth,t.u_textH=this._textureHeight,t.u_color=this.data.getColor()},i(0,r,"typeMix",(function(){return 8})),a.tmpTarget=function(t,e,i,a,r){var n=t.getValue("bounds");t.getValue("out").end();var s=c.create(n.width,n.height);s.start(),(n=t.getValue("color"))&&s.clear(n[0],n[1],n[2],0),t.addValue("tmpTarget",s)},a.startOut=function(t,e,i,a,r){t.getValue("tmpTarget").end();var n=t.getValue("out");n.start(),(t=t.getValue("color"))&&n.clear(t[0],t[1],t[2],0)},a.recycleTarget=function(t,e,i,a,r){t.getValue("src"),t.getValue("tmpTarget").recycle()},a}();t.__init([f])}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],(function(t,e){"use strict";for(var i in Object.defineProperty(e,"__esModule",{value:!0}),Laya){var a=Laya[i];a&&a.__isclass&&(e[i]=a)}}));